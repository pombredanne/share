<map version="0.9.0">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1280821938598" ID="ID_844674793" MODIFIED="1280821942386" TEXT="Email">
<node CREATED="1280821969212" ID="ID_1064113256" MODIFIED="1280821970994" POSITION="right" TEXT="Resources">
<node CREATED="1280821998491" FOLDED="true" ID="ID_1445157437" MODIFIED="1280822001050" TEXT="References">
<node CREATED="1280822003219" ID="ID_1327410461" LINK="POP%20(Post%20Office%20Protocol).mm" MODIFIED="1280822019411" TEXT="POP (Post Office Protocol)"/>
<node CREATED="1280822023370" ID="ID_1356296083" LINK="IMAP%20(Internet%20Message%20Access%20Protocol).mm" MODIFIED="1280822053141" TEXT="IMAP (Internet Message Access Protocol)"/>
<node CREATED="1291971048363" ID="ID_1269067218" LINK="SMTP%20(Simple%20Mail%20Transfer%20Protocol).mm" MODIFIED="1291971087861" TEXT="&lt; SMTP (Simple Mail Transfer Protocol) &lt; Programming &lt; Python &lt; smtplib"/>
</node>
<node CREATED="1281001391749" FOLDED="true" ID="ID_46504283" MODIFIED="1281001394996" TEXT="Websites">
<node CREATED="1281001395777" ID="ID_1174324567" LINK="http://email.about.com/" MODIFIED="1281001404979" TEXT="About Email"/>
</node>
<node CREATED="1289919811505" FOLDED="true" ID="ID_54587985" MODIFIED="1289919816128" TEXT="Service Providers">
<node CREATED="1289921372437" ID="ID_1973330227" LINK="Gmail.mm" MODIFIED="1289921404654" TEXT="Gmail"/>
<node CREATED="1289921374427" ID="ID_917683892" LINK="HiNet.mm" MODIFIED="1289921396521" TEXT="HiNet &gt; hiMail"/>
</node>
<node CREATED="1281001407505" ID="ID_27596466" MODIFIED="1281001409055" TEXT="Documents">
<node CREATED="1291971848786" ID="ID_1887003907" MODIFIED="1291971850429" TEXT="RFC">
<node CREATED="1292221815774" ID="ID_1402879702" LINK="http://tools.ietf.org/html/rfc822" MODIFIED="1292221834987" TEXT="RFC 822 - STANDARD FOR THE FORMAT OF ARPA INTERNET TEXT MESSAGES"/>
<node CREATED="1291971822675" ID="ID_1421530283" LINK="http://tools.ietf.org/html/rfc2045.html" MODIFIED="1291971828616" TEXT="RFC 2045 - Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies"/>
<node CREATED="1291971789539" ID="ID_1447329755" LINK="http://tools.ietf.org/html/rfc2046.html" MODIFIED="1291971794471" TEXT="RFC 2046 - Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types"/>
<node CREATED="1291971773371" ID="ID_365112747" LINK="http://tools.ietf.org/html/rfc2047.html" MODIFIED="1291971777504" TEXT="RFC 2047 - MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text"/>
<node CREATED="1291971761096" ID="ID_234010866" LINK="http://tools.ietf.org/html/rfc2231.html" MODIFIED="1291971766048" TEXT="RFC 2231 - MIME Parameter Value and Encoded Word Extensions: Character Sets, Languages, and Continuations"/>
<node CREATED="1291971590522" ID="ID_1937160070" LINK="http://tools.ietf.org/html/rfc2822.html" MODIFIED="1292221955560" TEXT="RFC 2822 - Internet Message Format">
<font NAME="Monospaced" SIZE="12"/>
</node>
</node>
<node CREATED="1289921077778" ID="ID_1014923623" LINK="http://en.wikipedia.org/wiki/Email" MODIFIED="1289921081608" TEXT="Email - Wikipedia, the free encyclopedia"/>
</node>
</node>
<node CREATED="1292221965372" ID="ID_1945678353" MODIFIED="1292221966730" POSITION="right" TEXT="Overview"/>
<node CREATED="1292224134265" ID="ID_1145781493" MODIFIED="1292224135832" POSITION="right" TEXT="Concepts">
<node CREATED="1292222021074" ID="ID_1202277184" MODIFIED="1292222245060" TEXT="RFC 2882 &#x898f;&#x7bc4;&#x7d14;&#x6587;&#x5b57;&#x7684; text messages, &#x800c; RFC 2045 &#x5247;&#x898f;&#x7bc4;&#x683c;&#x5f0f;&#x4e0a;&#x6bd4;&#x8f03;&#x8c50;&#x5bcc;&#x4e14;&#x80fd;&#x593e;&#x6a94;&#x7684; MIME messages. (&#x4e5f;&#x56e0;&#x6b64;&#x55ae;&#x5c6f;&#x7684; text messages &#x6709;&#x6642;&#x4e5f;&#x7a31;&#x505a; non-MIME messages)"/>
<node CREATED="1292224149197" ID="ID_215654813" MODIFIED="1292224165605" TEXT="&#x5e38;&#x898b;&#x7684; headers &#x6709; `Subject`, `From`, `To`..."/>
<node CREATED="1292224113253" FOLDED="true" ID="ID_1376681916" MODIFIED="1292224114736" TEXT="Headers">
<node CREATED="1292224128382" ID="ID_880067572" MODIFIED="1292224129868" TEXT="Resources">
<node CREATED="1281001467474" ID="ID_1161841606" LINK="http://whatismyipaddress.com/email-header" MODIFIED="1281001471329" TEXT="What is an Email Header?"/>
<node CREATED="1281001494984" ID="ID_428814122" LINK="http://www.stopspam.org/index.php?option=com_content&amp;id=45" MODIFIED="1281001526572" TEXT="Reading Email Headers (2008-10-19)"/>
</node>
<node CREATED="1292224143780" ID="ID_318368946" MODIFIED="1292224144601" TEXT="Tools">
<node CREATED="1281001203498" ID="ID_225803973" LINK="http://www.mxtoolbox.com/EmailHeaders.aspx" MODIFIED="1281001210922" TEXT="Email Header Analyzer, RFC822 Parser - MxToolbox"/>
</node>
</node>
</node>
<node CREATED="1280822149347" ID="ID_1747708191" MODIFIED="1280822151302" POSITION="right" TEXT="Programming">
<node CREATED="1280822154120" ID="ID_616473852" MODIFIED="1280822156364" TEXT="Java"/>
<node CREATED="1280822156564" ID="ID_1856746565" MODIFIED="1280822157548" TEXT="Python">
<node CREATED="1280822197291" ID="ID_1066120154" LINK="http://docs.python.org/library/email" MODIFIED="1291971433914" TEXT="email [STD 2.2]">
<node CREATED="1291971290727" ID="ID_556013057" MODIFIED="1291971292293" TEXT="Resources">
<node CREATED="1291971302104" ID="ID_1824415728" LINK="SMTP%20(Simple%20Mail%20Transfer%20Protocol).mm" MODIFIED="1291971394816" TEXT="&lt; SMTP (Simple Mail Transfer Protocol) &lt; Programming &lt; Python &lt; smtplib (STD)"/>
</node>
<node CREATED="1291971283438" FOLDED="true" ID="ID_1582025138" MODIFIED="1291971285365" TEXT="Overview">
<node CREATED="1291971906499" FOLDED="true" ID="ID_1808185468" MODIFIED="1291972362147" TEXT="The `email` package is a library for managing email messages, including MIME and other RFC 2822-based message documents.">
<node CREATED="1291972362573" ID="ID_1450897451" MODIFIED="1291972362573" TEXT="The `email` package attempts to be as RFC-compliant as possible, supporting in addition to RFC 2822, such MIME-related RFCs as RFC 2045, RFC 2046, RFC 2047, and RFC 2231."/>
<node CREATED="1291972183999" ID="ID_1698824124" MODIFIED="1291972183999" TEXT="It subsumes most of the functionality in several older standard modules such as `rfc822`, `mimetools`, `multifile`, and other non-standard packages such as `mimecntl`."/>
</node>
<node CREATED="1291972190017" ID="ID_1274954666" MODIFIED="1291972368088" TEXT="It is specifically not designed to do any sending of email messages to SMTP (RFC 2821), NNTP, or other servers; those are functions of modules such as `smtplib` and `nntplib`.">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<icon BUILTIN="messagebox_warning"/>
</node>
<node CREATED="1291972811413" FOLDED="true" ID="ID_922491894" MODIFIED="1292205824140" TEXT="The primary distinguishing feature of the `email` package is that it splits the parsing and generating of email messages from the internal &apos;&apos;object model representation&apos;&apos; of email. (API &#x7684;&#x4f7f;&#x7528;&#x8005;&#x53ea;&#x9700;&#x9762;&#x5c0d; object model &#x5373;&#x53ef;, &#x9019;&#x7a2e;&#x8a2d;&#x8a08;&#x7406;&#x5ff5;&#x5012;&#x662f;&#x8ddf; Java &#x5f88;&#x50cf;; &#x900f;&#x904e; parser &#x53ef;&#x4ee5;&#x5c07; flat text &#x8f49;&#x6210; object model, &#x900f;&#x904e; generator &#x4e5f;&#x53ef;&#x4ee5;&#x5c07; object model &#x8f49;&#x6210; flat text)">
<node CREATED="1291972824034" ID="ID_1426351048" MODIFIED="1291972952601" TEXT="Applications using the `email` package deal primarily with objects; you can add sub-objects to messages, remove sub-objects from messages, completely re-arrange the contents, etc."/>
<node CREATED="1291972952997" ID="ID_1817113837" MODIFIED="1291972962746" TEXT="There is a separate parser and a separate generator which handles the transformation from flat text to the object model, and then back to flat text again."/>
</node>
<node CREATED="1291972964207" ID="ID_236623918" MODIFIED="1291972986272" TEXT="There are also handy subclasses for some common MIME object types, and a few miscellaneous utilities that help with such common tasks as extracting and parsing &apos;&apos;message field values&apos;&apos;, creating &apos;&apos;RFC-compliant dates&apos;&apos;, etc."/>
</node>
<node CREATED="1292221056471" ID="ID_840148841" MODIFIED="1292223664457" TEXT="Code Samples">
<node CREATED="1292223334585" ID="ID_606062758" MODIFIED="1292224427882" TEXT="&#x900f;&#x904e; Gmail &#x9001;&#x7d14;&#x6587;&#x5b57;&#x8a0a;&#x606f;">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<icon BUILTIN="button_ok"/>
<node CREATED="1292223339804" ID="ID_847762284" MODIFIED="1292225719562" TEXT="import smtplib&#xa;from email.message import Message&#xa;&#xa;username = &apos;xxx@gmail.com&apos;&#xa;password = &apos;xxx&apos;&#xa;to_addrs = [&apos;usr1@yahoo.com&apos;, &apos;usr2@yahoo.com&apos;]&#xa;&#xa;smtp = smtplib.SMTP(&apos;smtp.gmail.com&apos;, 587)&#xa;smtp.ehlo()&#xa;smtp.starttls()&#xa;smtp.ehlo()&#xa;smtp.login(username, password)&#xa;&#xa;msg = Message()&#xa;msg[&apos;Subject&apos;] = &apos;Greeting from Python module email + smtplib&apos;&#xa;msg[&apos;From&apos;] = from_addr&#xa;msg[&apos;To&apos;] = &apos;, &apos;.join(to_addrs)&#xa;msg.set_payload(&apos;Hello (smtplib)&apos;)&#xa;&#xa;smtp.sendmail(username, to_addrs, msg.as_string())&#xa;smtp.quit()"/>
</node>
<node CREATED="1292221059196" FOLDED="true" ID="ID_975252629" MODIFIED="1292221060943" TEXT="Create and send a simple text message">
<node CREATED="1292221069226" ID="ID_431343692" MODIFIED="1292221070272" TEXT="# Import smtplib for the actual sending function&#xa;import smtplib&#xa;&#xa;# Import the email modules we&apos;ll need&#xa;from email.mime.text import MIMEText&#xa;&#xa;# Open a plain text file for reading.  For this example, assume that&#xa;# the text file contains only ASCII characters.&#xa;fp = open(textfile, &apos;rb&apos;)&#xa;# Create a text/plain message&#xa;msg = MIMEText(fp.read())&#xa;fp.close()&#xa;&#xa;# me == the sender&apos;s email address&#xa;# you == the recipient&apos;s email address&#xa;msg[&apos;Subject&apos;] = &apos;The contents of %s&apos; % textfile&#xa;msg[&apos;From&apos;] = me&#xa;msg[&apos;To&apos;] = you&#xa;&#xa;# Send the message via our own SMTP server, but don&apos;t include the&#xa;# envelope header.&#xa;s = smtplib.SMTP()&#xa;s.sendmail(me, [you], msg.as_string())&#xa;s.quit()&#xa;"/>
</node>
</node>
<node CREATED="1291971285867" ID="ID_222321851" MODIFIED="1291971287044" TEXT="API">
<node CREATED="1291974455640" ID="ID_155712908" LINK="http://docs.python.org/library/email.message.html" MODIFIED="1292220851087" TEXT="message">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1291974481178" ID="ID_82579382" MODIFIED="1291974483028" TEXT="Message">
<node CREATED="1291974523386" FOLDED="true" ID="ID_1207103175" MODIFIED="1291974524968" TEXT="Overview">
<node CREATED="1291974528730" ID="ID_998124328" MODIFIED="1292111336193" TEXT="The central class in the `email` package is the `Message` class, imported from the `email.message` module. (&#x597d;&#x5927;&#x4e00;&#x500b;&#x5957;&#x4ef6;, &#x7adf;&#x7136;&#x6709;&#x5169;&#x5c64;&#x5957;&#x4ef6;)"/>
<node CREATED="1291974536360" ID="ID_1600702918" MODIFIED="1292111389783" TEXT="`Message` provides the core functionality for setting and querying header fields, and for accessing message bodies. It is the base class for the email object model."/>
<node CREATED="1291974605615" FOLDED="true" ID="ID_1701550359" MODIFIED="1291974619075" TEXT="Conceptually, a `Message` object consists of &apos;&apos;headers&apos;&apos; and &apos;&apos;payloads&apos;&apos;.">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1291974930307" FOLDED="true" ID="ID_1397897238" MODIFIED="1291974932925" TEXT="Headers">
<node CREATED="1291974616297" ID="ID_916943315" MODIFIED="1291974616297" TEXT="Headers are RFC 2822 style field names and values where the field name and value are separated by a colon. The colon is not part of either the field name or the field value."/>
<node CREATED="1291975531025" ID="ID_944589816" MODIFIED="1291976131373" TEXT="Headers are stored and returned in &apos;&apos;case-preserving&apos;&apos; form but are &apos;&apos;matched case-insensitively&apos;&apos;. (&#x5beb;&#x5165;&#x7684;&#x6642;&#x5019;&#x8981;&#x6ce8;&#x610f; field name &#x7684;&#x5927;&#x5c0f;&#x5beb;, &#x4f46;&#x8b80;&#x53d6;&#x6642;&#x5247;&#x4e0d;&#x7528;&#x7ba1; header name &#x7684;&#x5927;&#x5c0f;&#x5beb;)">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
</node>
<node CREATED="1291975604604" ID="ID_830908358" MODIFIED="1292207078961" TEXT="There may also be a single &apos;&apos;envelope header&apos;&apos; (&#x70ba;&#x4ec0;&#x9ebc;&#x53ea;&#x6709;&#x4e00;&#x500b;? &#x53c3;&#x8003; `get_unixfrom()` &#x8207; `set_unixfrom()` &#x7684;&#x8aaa;&#x660e;), also known as the Unix-From header or the `From_` header. (RFC 2822 &#x63d0;&#x5230;: The envelope contains whatever information is needed to accomplish transmission and delivery.)"/>
</node>
<node CREATED="1291974933265" ID="ID_366803557" MODIFIED="1291974935090" TEXT="Payloads">
<node CREATED="1291975678149" ID="ID_720512180" MODIFIED="1292213518665" TEXT="The payload is either a string in the case of simple message objects or a list of `Message` objects for &apos;&apos;MIME container documents&apos;&apos; (e.g. `multipart/*` and `message/rfc822`; &#x5c0d;&#x7167; `get_content_type()` &#x8207; `get_default_type()` &#x7684;&#x8aaa;&#x660e;)."/>
</node>
</node>
<node CREATED="1292220176612" ID="ID_234138602" MODIFIED="1292221493077" TEXT="`Message` object structures can be created in one of two ways: They can be created from whole cloth by instantiating `Message` objects and stringing them together via `attach()` and `set_payload()` calls, or they can be created by parsing a flat text representation of the email message. (&#x53c3;&#x8003; `email.parser` &#x5957;&#x4ef6;&#x7684;&#x8aaa;&#x660e;)">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<icon BUILTIN="button_ok"/>
</node>
</node>
<node CREATED="1291976784159" ID="ID_1721690616" MODIFIED="1291976787286" TEXT="__init__()"/>
<node CREATED="1292210749649" FOLDED="true" ID="ID_888647766" MODIFIED="1292210765680" TEXT="Mapping-Like Interface">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1292211349788" FOLDED="true" ID="ID_754948471" MODIFIED="1292211351178" TEXT="Overview">
<node CREATED="1292210494834" ID="ID_1115021345" MODIFIED="1292211481208" TEXT="The following methods implement a &apos;&apos;mapping-like interface&apos;&apos; for accessing the message&#x2019;s RFC 2822 headers. (&#x4e0d;&#x542b; envelope header)">
<font NAME="Monospaced" SIZE="12"/>
</node>
<node CREATED="1292210576469" FOLDED="true" ID="ID_604080327" MODIFIED="1292211405976" TEXT="Note that there are some &apos;&apos;semantic&apos;&apos; differences between these methods and a normal mapping (i.e. dictionary) interface.">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<icon BUILTIN="messagebox_warning"/>
<node CREATED="1292210533970" ID="ID_1710615877" MODIFIED="1292223712498" TEXT="For example, in a dictionary there are no duplicate keys, but here there may be duplicate message headers.">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<icon BUILTIN="messagebox_warning"/>
</node>
<node CREATED="1292210596507" ID="ID_523002219" MODIFIED="1292210606358" TEXT="Also, in dictionaries there is no guaranteed order to the keys returned by `keys()`, but in a `Message` object, headers are always returned in the order they appeared in the original message, or were added to the message later."/>
<node CREATED="1292210606594" ID="ID_1448575313" MODIFIED="1292210606897" TEXT="Any header deleted and then re-added are always appended to the end of the header list."/>
</node>
<node CREATED="1292211386362" ID="ID_346067912" MODIFIED="1292211433309" TEXT="Note that in all cases, any envelope header present in the message is not included in the mapping interface. (&#x53ea;&#x80fd;&#x900f;&#x904e; `get_unixfrom()` &#x8207; `set_unixfrom()` &#x5b58;&#x53d6;)"/>
</node>
<node CREATED="1292210615876" FOLDED="true" ID="ID_1050147253" MODIFIED="1292210615876" TEXT="__len__()">
<node CREATED="1292211490524" ID="ID_1644903739" MODIFIED="1292211490524" TEXT="Return the total number of headers, including duplicates."/>
</node>
<node CREATED="1292210620347" FOLDED="true" ID="ID_1553265519" MODIFIED="1292210620347" TEXT="__contains__(name)">
<node CREATED="1292211519377" ID="ID_309357740" MODIFIED="1292211815276" TEXT="Return true if the message object has a field named `name`."/>
<node CREATED="1292211815509" FOLDED="true" ID="ID_810981590" MODIFIED="1292211815890" TEXT="Matching is done case-insensitively and `name` should not include the trailing colon.">
<node CREATED="1292211524622" ID="ID_1662478443" MODIFIED="1292211526703" TEXT="if &apos;message-id&apos; in myMessage:&#xa;    print &apos;Message-ID:&apos;, myMessage[&apos;message-id&apos;]&#xa;"/>
</node>
</node>
<node CREATED="1292210624690" FOLDED="true" ID="ID_1490959520" MODIFIED="1292210624690" TEXT="__getitem__(name)">
<node CREATED="1292211546235" ID="ID_1805432375" MODIFIED="1292211557845" TEXT="Return the value of the named header field. `name` should not include the colon field separator."/>
<node CREATED="1292211558183" ID="ID_1098895999" MODIFIED="1292211640795" TEXT="If the header is missing, `None` is returned; a `KeyError` is never raised. (&#x50b3;&#x7d71; `d[k]` &#x7684;&#x7528;&#x6cd5;&#x6703;&#x4e1f;&#x51fa; `KeyError`)">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
</node>
<node CREATED="1292211756605" ID="ID_1415878923" MODIFIED="1292211759120" TEXT="Note that if the named field appears more than once in the message&#x2019;s headers, exactly which of those field values will be returned is undefined. Use the `get_all()` method to get the values of all the extant named headers.">
<icon BUILTIN="messagebox_warning"/>
</node>
</node>
<node CREATED="1292210629136" ID="ID_1148675268" MODIFIED="1292210629136" TEXT="__setitem__(name, val)">
<node CREATED="1292211784982" ID="ID_1979090090" MODIFIED="1292211784982" TEXT="Add a header to the message with field name `name` and value `val`. The field is appended to the end of the message&#x2019;s existing fields."/>
<node CREATED="1292222828794" ID="ID_1843739370" MODIFIED="1292222877418" TEXT="&#x7531;&#x65bc; header value &#x88e1;&#x9762;&#x542b;&#x6709; header parameters, &#x5efa;&#x8b70;&#x9084;&#x662f;&#x900f;&#x904e; `add_header()` &#x6216; `set_param()` &#x4f86;&#x505a;&#x8655;&#x7406;">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<icon BUILTIN="messagebox_warning"/>
</node>
<node CREATED="1292211790157" FOLDED="true" ID="ID_945133874" MODIFIED="1292223008685" TEXT="Note that this does not overwrite or delete any existing header with the same name. If you want to ensure that the new header is the only one present in the message with field name `name`, delete the field first.">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<icon BUILTIN="messagebox_warning"/>
<node CREATED="1292211801692" ID="ID_1137015008" MODIFIED="1292211802945" TEXT="del msg[&apos;subject&apos;]&#xa;msg[&apos;subject&apos;] = &apos;Python roolz!&apos;&#xa;"/>
</node>
</node>
<node CREATED="1292210633783" FOLDED="true" ID="ID_1693983982" MODIFIED="1292210633783" TEXT="__delitem__(name)">
<node CREATED="1292211836228" ID="ID_1303103279" MODIFIED="1292211836228" TEXT="Delete &apos;&apos;all occurrences&apos;&apos; of the field with name `name` from the message&#x2019;s headers. No exception is raised if the named field isn&#x2019;t present in the headers."/>
</node>
<node CREATED="1292210637763" FOLDED="true" ID="ID_1158030117" MODIFIED="1292210637763" TEXT="has_key(name)">
<node CREATED="1292211848639" ID="ID_17839909" MODIFIED="1292211848639" TEXT="Return true if the message contains a header field named `name`, otherwise return false."/>
</node>
<node CREATED="1292210641320" FOLDED="true" ID="ID_802470148" MODIFIED="1292210641320" TEXT="keys()">
<node CREATED="1292211856691" ID="ID_768946356" MODIFIED="1292211856691" TEXT="Return a list of all the message&#x2019;s header field names."/>
</node>
<node CREATED="1292210646111" FOLDED="true" ID="ID_919542732" MODIFIED="1292210646111" TEXT="values()">
<node CREATED="1292211864292" ID="ID_1233108470" MODIFIED="1292211864292" TEXT="Return a list of all the message&#x2019;s field values."/>
</node>
<node CREATED="1292210650425" FOLDED="true" ID="ID_1821368392" MODIFIED="1292210650425" TEXT="items()">
<node CREATED="1292211872080" ID="ID_61050526" MODIFIED="1292211872080" TEXT="Return a list of 2-tuples containing all the message&#x2019;s field headers and values."/>
</node>
<node CREATED="1292210654426" FOLDED="true" ID="ID_569135206" MODIFIED="1292210654426" TEXT="get(name[, failobj])">
<node CREATED="1292215331894" FOLDED="true" ID="ID_1748310178" MODIFIED="1292215333157" TEXT="Overview">
<node CREATED="1292211887463" ID="ID_864169155" MODIFIED="1292211983256" TEXT="Return the value of the named header field."/>
<node CREATED="1292211983479" ID="ID_1613332361" MODIFIED="1292211983737" TEXT="This is identical to `__getitem__()` except that optional `failobj` is returned if the named header is missing (defaults to `None`)."/>
</node>
<node CREATED="1292215328766" FOLDED="true" ID="ID_120575586" MODIFIED="1292215330952" TEXT="Parameters">
<node CREATED="1292215337606" ID="ID_1960144106" MODIFIED="1292215340330" TEXT="name (string)"/>
<node CREATED="1292215341462" ID="ID_731712951" MODIFIED="1292215347029" TEXT="failobj (string) = None"/>
</node>
<node CREATED="1292218212656" ID="ID_546167648" MODIFIED="1292218215156" TEXT="Returns: string"/>
</node>
</node>
<node CREATED="1292111552297" FOLDED="true" ID="ID_1242021751" MODIFIED="1292208930455" TEXT="as_string([unixfrom])">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1292111758998" ID="ID_521641734" MODIFIED="1292111760466" TEXT="Overview">
<node CREATED="1292115125893" ID="ID_592557322" MODIFIED="1292115133447" TEXT="Return the entire message flattened as a string."/>
<node CREATED="1292115151724" ID="ID_230656838" MODIFIED="1292115204023" TEXT="Flattening the message may trigger changes to the `Message` if &apos;&apos;defaults&apos;&apos; need to be filled in to complete the transformation to a string (for example, MIME boundaries may be generated or modified)."/>
<node CREATED="1292115265608" FOLDED="true" ID="ID_606909564" MODIFIED="1292115267158" TEXT="Note that this method is provided as a convenience and may not always format the message the way you want. For example, by default it mangles lines that begin with `From`. For more flexibility, instantiate a `Generator` instance and use its `flatten()` method directly.">
<icon BUILTIN="messagebox_warning"/>
<node CREATED="1292115272061" ID="ID_1360533088" MODIFIED="1292115273414" TEXT="from cStringIO import StringIO&#xa;from email.generator import Generator&#xa;fp = StringIO()&#xa;g = Generator(fp, mangle_from_=False, maxheaderlen=60)&#xa;g.flatten(msg)&#xa;text = fp.getvalue()&#xa;"/>
</node>
</node>
<node CREATED="1292111557394" FOLDED="true" ID="ID_500647196" MODIFIED="1292111559506" TEXT="Parameters">
<node CREATED="1292111560361" ID="ID_1360927359" MODIFIED="1292215317830" TEXT="unixfrom (boolean) = False">
<node CREATED="1292115133842" ID="ID_1467007473" MODIFIED="1292115151489" TEXT="When optional `unixfrom` is `True`, the envelope header is included in the returned string. `unixfrom` defaults to `False`."/>
</node>
</node>
<node CREATED="1292111760737" ID="ID_638311500" MODIFIED="1292111774746" TEXT="Returns: string"/>
</node>
<node CREATED="1292115283527" FOLDED="true" ID="ID_1992190674" MODIFIED="1292115283527" TEXT="__str__()">
<node CREATED="1292115707107" ID="ID_433325970" MODIFIED="1292115707107" TEXT="Equivalent to `as_string(unixfrom=True)`."/>
<node CREATED="1292115897736" ID="ID_1662004300" MODIFIED="1292115900684" TEXT="Returns: string"/>
</node>
<node CREATED="1292115717311" FOLDED="true" ID="ID_776976356" MODIFIED="1292208928468" TEXT="is_multipart()">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1292115941945" ID="ID_508067927" MODIFIED="1292115943402" TEXT="Overview">
<node CREATED="1292115902688" ID="ID_117581303" MODIFIED="1292208896694" TEXT="Return `True` if the message&#x2019;s payload is a list of sub-`Message` objects (&#x672c;&#x8eab;&#x662f;&#x500b; container &#x800c;&#x8a00;), otherwise return `False`."/>
<node CREATED="1292115917010" ID="ID_1769994288" MODIFIED="1292168459325" TEXT="When `is_multipart()` returns `False`, the payload should be a string object.">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
</node>
</node>
<node CREATED="1292115948134" ID="ID_1945739313" MODIFIED="1292115951511" TEXT="Returns: boolean"/>
</node>
<node CREATED="1292115959647" FOLDED="true" ID="ID_1310140404" MODIFIED="1292115959647" TEXT="set_unixfrom(unixfrom)">
<node CREATED="1292115985026" ID="ID_1918533102" MODIFIED="1292115985026" TEXT="Set the message&#x2019;s envelope header to `unixfrom`, which should be a string."/>
<node CREATED="1292115987390" ID="ID_655040125" MODIFIED="1292115991328" TEXT="Parameters">
<node CREATED="1292115992274" ID="ID_1805884047" MODIFIED="1292115997980" TEXT="unixfrom (string)"/>
</node>
</node>
<node CREATED="1292116007934" FOLDED="true" ID="ID_1364784478" MODIFIED="1292116007934" TEXT="get_unixfrom()">
<node CREATED="1292116018315" ID="ID_260786784" MODIFIED="1292116018315" TEXT="Return the message&#x2019;s envelope header. Defaults to `None` if the envelope header was never set."/>
<node CREATED="1292116032747" ID="ID_1539679397" MODIFIED="1292167833742" TEXT="Returns: string or `None`"/>
</node>
<node CREATED="1292116084436" FOLDED="true" ID="ID_468378459" MODIFIED="1292209039550" TEXT="attach(payload)">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1292116087190" ID="ID_1328018165" MODIFIED="1292116088411" TEXT="Overview">
<node CREATED="1292116098025" ID="ID_1006223920" MODIFIED="1292209542429" TEXT="Add the given payload to the &apos;&apos;current payload&apos;&apos;, which must be `None` or a list of `Message` objects before the call. After the call, the payload will always be a list of `Message` objects. (&#x91dd;&#x5c0d; multipart message &#x800c;&#x8a00;)"/>
<node CREATED="1292116251747" ID="ID_751565897" MODIFIED="1292116253382" TEXT="If you want to set the payload to a scalar object (e.g. a string), use `set_payload()` instead.">
<icon BUILTIN="messagebox_warning"/>
</node>
</node>
<node CREATED="1292116085041" ID="ID_1565775442" MODIFIED="1292116086772" TEXT="Parameters">
<node CREATED="1292116186419" ID="ID_375183462" MODIFIED="1292215272934" TEXT="payload (`Message`)"/>
</node>
</node>
<node CREATED="1292116464403" FOLDED="true" ID="ID_1346315602" MODIFIED="1292214466892" TEXT="get_payload([i, decode])">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1292116474445" FOLDED="true" ID="ID_443443478" MODIFIED="1292116475803" TEXT="Overview">
<node CREATED="1292116521308" ID="ID_1900084878" MODIFIED="1292116532102" TEXT="Return the current payload, which will be a list of `Message` objects when `is_multipart()` is `True`, or a string when `is_multipart()` is `False`."/>
<node CREATED="1292116532378" ID="ID_658499991" MODIFIED="1292116623223" TEXT="If the payload is a list and you mutate the list object, you modify the message&#x2019;s payload in place.">
<icon BUILTIN="messagebox_warning"/>
</node>
</node>
<node CREATED="1292116476182" ID="ID_690065079" MODIFIED="1292116478242" TEXT="Parameters">
<node CREATED="1292116607368" FOLDED="true" ID="ID_1318259440" MODIFIED="1292118388087" TEXT="i (integer)">
<node CREATED="1292167999278" ID="ID_1199332943" MODIFIED="1292168005227" TEXT="Return the `i`-th element of the payload, counting from zero, if `is_multipart()` is `True`."/>
</node>
<node CREATED="1292116608452" FOLDED="true" ID="ID_1995340460" MODIFIED="1292215291791" TEXT="decode (boolean) = False">
<node CREATED="1292118297558" ID="ID_1950180341" MODIFIED="1292209790629" TEXT="A flag indicating whether the payload should be decoded or not, according to the `Content-Transfer-Encoding` header. (&#x4e0d;&#x8981;&#x8ddf; character encoding &#x641e;&#x6df7;&#x4e86;!!) Defaults to `False`."/>
<node CREATED="1292118307069" ID="ID_1182064005" MODIFIED="1292118329042" TEXT="When `True` and the message is not a multipart, the payload will be decoded if this header&#x2019;s value is `quoted-printable` or `base64`."/>
<node CREATED="1292118329323" ID="ID_834944891" MODIFIED="1292118339533" TEXT="If some other encoding is used, or `Content-Transfer-Encoding` header is missing, or if the payload has bogus base64 data, the payload is returned &apos;&apos;as-is (undecoded)&apos;&apos;."/>
<node CREATED="1292118339773" ID="ID_59211088" MODIFIED="1292209645792" TEXT="If the message is a multipart and the decode flag is `True`, then `None` is returned. (&#x5c0d; list of `Message` &#x505a; decode &#x662f;&#x6c92;&#x6709;&#x610f;&#x7fa9;&#x7684;, &#x4f46;&#x62cb;&#x51fa;&#x4f8b;&#x5916;&#x7e3d;&#x6bd4;&#x975c;&#x975c;&#x5730;&#x50b3;&#x56de; `None` &#x597d;&#x5427;?)">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
</node>
</node>
</node>
<node CREATED="1292116488954" ID="ID_736392777" MODIFIED="1292207343500" TEXT="Returns: string, list of `Message` or `None`"/>
<node CREATED="1292116684559" ID="ID_71676765" MODIFIED="1292116688892" TEXT="Raises">
<node CREATED="1292116689608" FOLDED="true" ID="ID_428669883" MODIFIED="1292118268021" TEXT="IndexError">
<node CREATED="1292118268561" ID="ID_1457996897" MODIFIED="1292118268561" TEXT="If `i` is less than 0 or greater than or equal to the number of items in the payload."/>
</node>
<node CREATED="1292116694191" FOLDED="true" ID="ID_997454292" MODIFIED="1292118272024" TEXT="TypeError">
<node CREATED="1292118272389" ID="ID_321398877" MODIFIED="1292118272389" TEXT="If the payload is a string (i.e. `is_multipart()` is `False`) and `i` is given."/>
</node>
</node>
</node>
<node CREATED="1292118483514" FOLDED="true" ID="ID_1133683527" MODIFIED="1292209050794" TEXT="set_payload(payload[, charset])">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1292118489651" ID="ID_184953893" MODIFIED="1292209977844" TEXT="Set the &apos;&apos;entire&apos;&apos; message object&#x2019;s payload to payload. (&#x5c0d;&#x7167; `attach(payload)` &#x7684;&#x7528;&#x6cd5;) It is the client&#x2019;s responsibility to ensure the payload invariants."/>
<node CREATED="1292118577075" ID="ID_813131683" MODIFIED="1292118578794" TEXT="Parameters">
<node CREATED="1292118580219" ID="ID_388829136" MODIFIED="1292118626677" TEXT="payload (string)"/>
<node CREATED="1292118585902" ID="ID_761954639" MODIFIED="1292211200886" TEXT="charset (`Charset`, string or `None`) [2.2.2]">
<node CREATED="1292118608770" ID="ID_1897865944" MODIFIED="1292118612209" TEXT="The message&#x2019;s &apos;&apos;default character set&apos;&apos;"/>
</node>
</node>
</node>
<node CREATED="1292210040828" FOLDED="true" ID="ID_1226186961" MODIFIED="1292210319849" TEXT="set_charset(charset) [2.2.2]">
<node CREATED="1292210086335" ID="ID_877156542" MODIFIED="1292210087711" TEXT="Overview">
<node CREATED="1292210132362" ID="ID_501078044" MODIFIED="1292211238431" TEXT="Set the character set of the payload to `charset`."/>
<node CREATED="1292210322434" ID="ID_1090938861" MODIFIED="1292211298293" TEXT="The message will be assumed to be of type `text/*`, with the payload either in unicode or encoded with `charset.input_charset`. It will be encoded or converted to `charset.output_charset` and transfer encoded properly, if needed, when generating the plain text representation of the message. MIME headers (`MIME-Version`, `Content-Type`, `Content-Transfer-Encoding`) will be added as needed. (&#x9019;&#x88e1;&#x7684; `charset.input_charset` &#x53ca; `charset.output_charset` &#x8ddf; `charset` &#x53c3;&#x6578;&#x6709;&#x4ec0;&#x9ebc;&#x95dc;&#x806f;[?])"/>
</node>
<node CREATED="1292210087929" ID="ID_1306969107" MODIFIED="1292210091214" TEXT="Parameters">
<node CREATED="1292210092168" FOLDED="true" ID="ID_1986282085" MODIFIED="1292210126179" TEXT="charset (`Charset`, string or `None`)">
<node CREATED="1292210187851" FOLDED="true" ID="ID_673381810" MODIFIED="1292210194841" TEXT="Which can either be a `Charset` instance (see `email.charset`), a string naming a character set, or `None`.">
<node CREATED="1292210148666" ID="ID_1739725501" MODIFIED="1292210162725" TEXT="If it is a string, it will be converted to a `Charset` instance."/>
<node CREATED="1292210163028" ID="ID_1236221354" MODIFIED="1292210171116" TEXT="If `charset` is `None`, the `charset` parameter will be removed from the `Content-Type` header."/>
</node>
<node CREATED="1292210171311" ID="ID_808634202" MODIFIED="1292210171560" TEXT="Anything else will generate a `TypeError`."/>
</node>
</node>
<node CREATED="1292210204571" ID="ID_1553165339" MODIFIED="1292210243618" TEXT="Raises: `TypeError` (&#x53c3;&#x8003; `charset` &#x53c3;&#x6578;&#x7684;&#x8aaa;&#x660e;)"/>
</node>
<node CREATED="1292210363363" FOLDED="true" ID="ID_801816445" MODIFIED="1292210373703" TEXT="get_charset() [2.2.2]">
<node CREATED="1292210381878" ID="ID_349276003" MODIFIED="1292210381878" TEXT="Return the `Charset` instance associated with the message&#x2019;s payload."/>
<node CREATED="1292210383641" ID="ID_1628039567" MODIFIED="1292210390259" TEXT="Returns: `Charset`"/>
</node>
<node CREATED="1292210659817" FOLDED="true" ID="ID_878420728" MODIFIED="1292210659817" TEXT="get_all(name[, failobj])">
<node CREATED="1292211924003" ID="ID_895687044" MODIFIED="1292211925428" TEXT="Overview">
<node CREATED="1292211934453" ID="ID_684559839" MODIFIED="1292211939421" TEXT="Return a list of all the values for the field named `name`."/>
<node CREATED="1292211939803" ID="ID_1979841762" MODIFIED="1292211940196" TEXT="If there are no such named headers in the message, `failobj` is returned (defaults to `None`)."/>
</node>
<node CREATED="1292213587866" ID="ID_1245987159" MODIFIED="1292213589981" TEXT="Parameters">
<node CREATED="1292213590297" ID="ID_1941202585" MODIFIED="1292213592566" TEXT="name (string)"/>
<node CREATED="1292213592755" ID="ID_891420751" MODIFIED="1292215438515" TEXT="failobj (list of string) = None"/>
</node>
<node CREATED="1292213651906" ID="ID_1265555385" MODIFIED="1292213666064" TEXT="Returns: list of string or `None`"/>
</node>
<node CREATED="1292211999597" FOLDED="true" ID="ID_306252398" MODIFIED="1292212000745" TEXT="add_header(_name, _value, **_params)">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1292212082457" ID="ID_180635955" MODIFIED="1292212083735" TEXT="Overview">
<node CREATED="1292212098349" ID="ID_715707647" MODIFIED="1292212102483" TEXT="Extended header setting."/>
<node CREATED="1292212102695" ID="ID_1129675550" MODIFIED="1292212110373" TEXT="This method is similar to `__setitem__()` except that additional &apos;&apos;header parameters&apos;&apos; can be provided as keyword arguments."/>
</node>
<node CREATED="1292212084039" ID="ID_1678113749" MODIFIED="1292212085656" TEXT="Parameters">
<node CREATED="1292212086165" ID="ID_1239285011" MODIFIED="1292213568204" TEXT="_name (string)">
<node CREATED="1292212111790" ID="ID_1653971324" MODIFIED="1292212135996" TEXT="The header field to add."/>
</node>
<node CREATED="1292212089122" ID="ID_1090075541" MODIFIED="1292213570986" TEXT="_value (string)">
<node CREATED="1292212126025" ID="ID_427375128" MODIFIED="1292212133222" TEXT="The &apos;&apos;primary value&apos;&apos; for the header."/>
</node>
<node CREATED="1292212090497" FOLDED="true" ID="ID_1242816792" MODIFIED="1292212096005" TEXT="**_params">
<node CREATED="1292212160698" ID="ID_876450805" MODIFIED="1292212202631" TEXT="Header parameters, &#x4f8b;&#x5982;: `Content-Disposition: attachment; filename=&quot;bud.gif&quot;` &#x4e2d;&#x7684; `filename=&quot;bud.gif&quot;`"/>
<node CREATED="1292212222956" ID="ID_348091592" MODIFIED="1292212443216" TEXT="For each item in the keyword argument dictionary `_params`, the key is taken as the parameter name, with underscores converted to dashes (since dashes are illegal in Python identifiers; &#x53ef;&#x4ee5;&#x53c3;&#x8003;&#x8a2d;&#x8a08;!!).">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<icon BUILTIN="messagebox_warning"/>
</node>
<node CREATED="1292212235229" ID="ID_1763992768" MODIFIED="1292212235533" TEXT="Normally, the parameter will be added as `key=&quot;value&quot;` unless the value is `None`, in which case only the key will be added."/>
<node CREATED="1292212246623" ID="ID_823437447" MODIFIED="1292212248236" TEXT="Example">
<node CREATED="1292212249800" ID="ID_345185676" MODIFIED="1292212260800" TEXT="msg.add_header(&apos;Content-Disposition&apos;, &apos;attachment&apos;, filename=&apos;bud.gif&apos;)&#xa;==&gt; Content-Disposition: attachment; filename=&quot;bud.gif&quot;"/>
</node>
</node>
</node>
</node>
<node CREATED="1292212482881" FOLDED="true" ID="ID_1727240069" MODIFIED="1292212541655" TEXT="replace_header(_name, _value) [2.2.2]">
<node CREATED="1292212504187" ID="ID_926199594" MODIFIED="1292212514928" TEXT="Replace a header. Replace the &apos;&apos;first&apos;&apos; header found in the message that matches `_name`, retaining header order and field name case."/>
<node CREATED="1292213674723" ID="ID_679335034" MODIFIED="1292213676707" TEXT="Parameters">
<node CREATED="1292213679092" ID="ID_74998324" MODIFIED="1292213683175" TEXT="_name (string)"/>
<node CREATED="1292213683349" ID="ID_1465620804" MODIFIED="1292213685683" TEXT="_value (string)"/>
</node>
<node CREATED="1292212505741" ID="ID_302113357" MODIFIED="1292218477499" TEXT="Raises: `KeyError` if no matching header was found."/>
</node>
<node CREATED="1292212570396" FOLDED="true" ID="ID_1680485426" MODIFIED="1292218527201" TEXT="get_content_type() [2.2.2]">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1292212613619" ID="ID_1996399583" MODIFIED="1292212615839" TEXT="Overview">
<node CREATED="1292212616216" ID="ID_567885166" MODIFIED="1292212628013" TEXT="Return the message&#x2019;s content type. The returned string is coerced to lower case of the form `maintype/subtype`."/>
<node CREATED="1292212628226" ID="ID_24432674" MODIFIED="1292212634261" TEXT="If there was no `Content-Type` header in the message the default type as given by `get_default_type()` will be returned."/>
<node CREATED="1292212634507" FOLDED="true" ID="ID_102219355" MODIFIED="1292213865855" TEXT="Since according to RFC 2045, messages always have a default type, `get_content_type()` will always return a value.">
<node CREATED="1292212927255" ID="ID_813588769" MODIFIED="1292214042356" TEXT="RFC 2045 defines a message&#x2019;s default type to be `text/plain` unless it appears inside a `multipart/digest` container, in which case it would be `message/rfc822`.">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
</node>
<node CREATED="1292213866369" ID="ID_339149913" MODIFIED="1292213866369" TEXT="If the `Content-Type` header has an invalid type specification, RFC 2045 mandates that the default type be `text/plain`."/>
</node>
</node>
<node CREATED="1292212574735" ID="ID_1674257134" MODIFIED="1292212577843" TEXT="Returns: string"/>
</node>
<node CREATED="1292219208766" FOLDED="true" ID="ID_1957898588" MODIFIED="1292219513585" TEXT="set_type(type[, header, requote]) [2.2.2]">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1292219237878" ID="ID_262486253" MODIFIED="1292219239170" TEXT="Overview">
<node CREATED="1292219253510" ID="ID_813072017" MODIFIED="1292219253510" TEXT="Set the main type and subtype for the `Content-Type` header. `type` must be a string in the form `maintype/subtype`, otherwise a `ValueError` is raised."/>
<node CREATED="1292219288045" ID="ID_1307652459" MODIFIED="1292219293013" TEXT="This method replaces the `Content-Type` header, keeping all the parameters in place."/>
<node CREATED="1292219378505" ID="ID_1439746152" MODIFIED="1292219379476" TEXT="When the `Content-Type` header is set a `MIME-Version` header is also added."/>
<node CREATED="1292219555692" ID="ID_1132220084" MODIFIED="1292219679855" TEXT="&#x70ba;&#x4ec0;&#x9ebc;&#x9019;&#x500b;&#x65b9;&#x6cd5;&#x4e0d;&#x662f;&#x53d6;&#x4f5c; `set_content_type()`, &#x5927;&#x6982;&#x662f;&#x56e0;&#x70ba;&#x53ef;&#x4ee5;&#x900f;&#x904e; `header` &#x53c3;&#x6578;&#x4f86;&#x4fee;&#x6539; &apos;Content-Type&apos; &#x4ee5;&#x5916;&#x7684; headers, &#x4f46; MIME type &#x5c0d;&#x5176;&#x4ed6; headers &#x6709;&#x610f;&#x7fa9;&#x55ce;?">
<font NAME="Monospaced" SIZE="12"/>
</node>
</node>
<node CREATED="1292219294927" FOLDED="true" ID="ID_563310511" MODIFIED="1292219296446" TEXT="Parameters">
<node CREATED="1292219296862" ID="ID_1596554553" MODIFIED="1292219301486" TEXT="type (string)"/>
<node CREATED="1292219301716" FOLDED="true" ID="ID_1976859848" MODIFIED="1292219306154" TEXT="header (string)">
<node CREATED="1292215043282" ID="ID_148003045" MODIFIED="1292215045804" TEXT="Specifies the message header to use instead of `Content-Type`."/>
</node>
<node CREATED="1292219306750" FOLDED="true" ID="ID_277135748" MODIFIED="1292219314853" TEXT="requote (boolean) = True">
<node CREATED="1292219315281" ID="ID_859407007" MODIFIED="1292219318478" TEXT="If `requote` is `False`, this leaves the existing header&#x2019;s quoting as is, otherwise the parameters will be quoted (the default)."/>
</node>
</node>
<node CREATED="1292219239407" ID="ID_1191828653" MODIFIED="1292219269394" TEXT="Reaises: `ValueError`"/>
</node>
<node CREATED="1292214215453" FOLDED="true" ID="ID_1369471978" MODIFIED="1292214229248" TEXT="get_content_maintype() [2.2.2]">
<node CREATED="1292214245054" ID="ID_631969470" MODIFIED="1292214245054" TEXT="Return the message&#x2019;s main content type. This is the `maintype` part of the string returned by `get_content_type()`."/>
<node CREATED="1292214254123" ID="ID_1939482646" MODIFIED="1292214256782" TEXT="Returns: string"/>
</node>
<node CREATED="1292214223742" FOLDED="true" ID="ID_119648004" MODIFIED="1292214233730" TEXT="get_content_subtype() [2.2.2]">
<node CREATED="1292214275558" ID="ID_1375039423" MODIFIED="1292214275558" TEXT="Return the message&#x2019;s sub-content type. This is the `subtype` part of the string returned by `get_content_type()`."/>
<node CREATED="1292214276757" ID="ID_1153003383" MODIFIED="1292214280867" TEXT="Returns: string"/>
</node>
<node CREATED="1292213307925" FOLDED="true" ID="ID_1695595217" MODIFIED="1292213723664" TEXT="get_default_type() [2.2.2]">
<node CREATED="1292213324907" ID="ID_1853926664" MODIFIED="1292213326155" TEXT="Overview">
<node CREATED="1292213316794" ID="ID_1428662347" MODIFIED="1292213331598" TEXT="Return the default content type."/>
<node CREATED="1292213331870" ID="ID_1795750736" MODIFIED="1292213357632" TEXT="Most messages have a default content type of `text/plain`, except for messages that are subparts of `multipart/digest` containers. Such subparts have a default content type of `message/rfc822`.">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<icon BUILTIN="bookmark"/>
</node>
</node>
<node CREATED="1292213319632" ID="ID_1344338891" MODIFIED="1292213321995" TEXT="Returns: string"/>
</node>
<node CREATED="1292214293285" FOLDED="true" ID="ID_1951805071" MODIFIED="1292214295629" TEXT="set_default_type(ctype) [2.2.2]">
<node CREATED="1292214325520" ID="ID_367611383" MODIFIED="1292214326798" TEXT="Overview">
<node CREATED="1292214327215" ID="ID_619945178" MODIFIED="1292214342735" TEXT="Set the default content type."/>
<node CREATED="1292214354733" ID="ID_784445403" MODIFIED="1292214360120" TEXT="The default content type is not stored in the `Content-Type` header.">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<icon BUILTIN="messagebox_warning"/>
</node>
</node>
<node CREATED="1292214344266" ID="ID_70142558" MODIFIED="1292214347179" TEXT="Params">
<node CREATED="1292214369266" ID="ID_551018387" MODIFIED="1292214372666" TEXT="ctype (string)">
<node CREATED="1292214348532" ID="ID_1876486341" MODIFIED="1292214367344" TEXT="Should either be `text/plain` or `message/rfc822`, although this is not enforced. "/>
</node>
</node>
</node>
<node CREATED="1292214436143" FOLDED="true" ID="ID_636718251" MODIFIED="1292218663202" TEXT="get_params([failobj, header, unquote])">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1292214516875" ID="ID_839738336" MODIFIED="1292214518497" TEXT="Overview">
<node CREATED="1292214522563" ID="ID_952243307" MODIFIED="1292214534296" TEXT="Return the message&#x2019;s `Content-Type` parameters, as a list."/>
<node CREATED="1292214534520" ID="ID_217745483" MODIFIED="1292214534794" TEXT="The elements of the returned list are 2-tuples of key/value pairs, as split on the &apos;=&apos; sign. The left hand side of the &apos;=&apos; is the key, while the right hand side is the value. If there is no &apos;=&apos; sign in the parameter the value is the empty string, otherwise the value is as described in `get_param()` and is unquoted if optional `unquote` is `True` (the default)."/>
</node>
<node CREATED="1292214558211" ID="ID_963538641" MODIFIED="1292214560201" TEXT="Parameters">
<node CREATED="1292214563586" FOLDED="true" ID="ID_1717875299" MODIFIED="1292215475296" TEXT="failobj (list of 2-tuple (string, string))">
<node CREATED="1292214643816" ID="ID_1061535623" MODIFIED="1292214650704" TEXT="The object to return if there is no `Content-Type` header."/>
</node>
<node CREATED="1292214569033" ID="ID_401761323" MODIFIED="1292214583919" TEXT="header (string)">
<node CREATED="1292214651725" ID="ID_262289173" MODIFIED="1292214655732" TEXT="The header to search instead of `Content-Type`."/>
</node>
<node CREATED="1292214570985" ID="ID_531834832" MODIFIED="1292218647165" TEXT="unquote (boolean) = True [2.2.2]"/>
</node>
<node CREATED="1292214518738" ID="ID_697112216" MODIFIED="1292214677551" TEXT="Returns: list of 2-tuple (string, string)"/>
</node>
<node CREATED="1292214736444" FOLDED="true" ID="ID_1477514352" MODIFIED="1292218663203" TEXT="get_param(param[, failobj, header, unquote])">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1292214933423" ID="ID_180348427" MODIFIED="1292214934624" TEXT="Overview">
<node CREATED="1292215005557" ID="ID_830851215" MODIFIED="1292215014389" TEXT="Return the value of the `Content-Type` header&#x2019;s parameter `param` as a string."/>
<node CREATED="1292215014772" ID="ID_567083464" MODIFIED="1292215015041" TEXT="If the message has no `Content-Type` header or if there is no such parameter, then `failobj` is returned (defaults to `None`)."/>
<node CREATED="1292215608146" ID="ID_636296311" MODIFIED="1292215741340" TEXT="Parameter keys are always compared case insensitively."/>
<node CREATED="1292215741556" ID="ID_829450219" MODIFIED="1292218727651" TEXT="The return value can either be a string, or a 3-tuple if the parameter was &apos;&apos;RFC 2231 encoded&apos;&apos; (as of version 2.2.2).">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1292215761606" ID="ID_1324678531" MODIFIED="1292215761606" TEXT="In any case, the parameter value (either the returned string, or the `VALUE` item in the 3-tuple) is always unquoted, unless `unquote` is set to `False`."/>
<node CREATED="1292215620357" ID="ID_507897141" MODIFIED="1292215885576" TEXT="When it&#x2019;s a 3-tuple, the elements of the value are of the form `(CHARSET, LANGUAGE, VALUE)`. Note that both `CHARSET` and `LANGUAGE` can be `None`, in which case you should consider `VALUE` to be encoded in the `us-ascii` charset. You can usually ignore `LANGUAGE`."/>
<node CREATED="1292215686466" ID="ID_1133040807" MODIFIED="1292215714073" TEXT="If your application doesn&#x2019;t care whether the parameter was encoded as in RFC 2231, you can collapse the parameter value by calling `email.utils.collapse_rfc2231_value()`, passing in the return value from `get_param()`. This will return a suitably decoded Unicode string when the value is a tuple, or the original string unquoted if it isn&#x2019;t.">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<icon BUILTIN="button_ok"/>
<node CREATED="1292215708910" ID="ID_752111014" MODIFIED="1292215710134" TEXT="rawparam = msg.get_param(&apos;foo&apos;)&#xa;param = email.utils.collapse_rfc2231_value(rawparam)&#xa;"/>
</node>
</node>
</node>
<node CREATED="1292214926844" ID="ID_484995609" MODIFIED="1292214928566" TEXT="Parameters">
<node CREATED="1292214935494" ID="ID_954101157" MODIFIED="1292214939129" TEXT="param (string)"/>
<node CREATED="1292214939471" ID="ID_1730321729" MODIFIED="1292215061503" TEXT="failobj (string) = None"/>
<node CREATED="1292214956191" ID="ID_1665541776" MODIFIED="1292219402738" TEXT="header (string)">
<node CREATED="1292215043282" ID="ID_1020374868" MODIFIED="1292215045804" TEXT="Specifies the message header to use instead of `Content-Type`."/>
</node>
<node CREATED="1292214979102" ID="ID_551861954" MODIFIED="1292215819069" TEXT="unquote (boolean) = True [2.2.2]"/>
</node>
<node CREATED="1292214928980" ID="ID_791072241" MODIFIED="1292215633807" TEXT="Returns: string or 3-tuple (string, string, string)"/>
</node>
<node CREATED="1292215122818" FOLDED="true" ID="ID_649387787" MODIFIED="1292218663202" TEXT="set_param(param, value[, header, requote, charset, language]) [2.2.2]">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1292218793248" ID="ID_1063435270" MODIFIED="1292218794531" TEXT="Overview">
<node CREATED="1292218821424" FOLDED="true" ID="ID_170817601" MODIFIED="1292218824833" TEXT="Set a parameter in the `Content-Type` header.">
<node CREATED="1292218825081" ID="ID_1143789664" MODIFIED="1292218830702" TEXT="If the parameter already exists in the header, its value will be replaced with `value`."/>
<node CREATED="1292218830955" ID="ID_817106707" MODIFIED="1292218831277" TEXT="If the `Content-Type` header as not yet been defined for this message, it will be set to `text/plain` and the new parameter `value` will be appended as per RFC 2045."/>
</node>
</node>
<node CREATED="1292218794930" ID="ID_721527710" MODIFIED="1292218796714" TEXT="Parameters">
<node CREATED="1292218797756" ID="ID_1705579137" MODIFIED="1292218819926" TEXT="param (string)"/>
<node CREATED="1292218799347" ID="ID_1007324885" MODIFIED="1292218817766" TEXT="value (string)"/>
<node CREATED="1292218800432" FOLDED="true" ID="ID_744885801" MODIFIED="1292218815130" TEXT="header (string)">
<node CREATED="1292218850707" ID="ID_95910561" MODIFIED="1292218858072" TEXT="Specifies an alternative header to `Content-Type`."/>
</node>
<node CREATED="1292218802152" FOLDED="true" ID="ID_711640857" MODIFIED="1292218872765" TEXT="requote (boolean) = True">
<node CREATED="1292218862883" ID="ID_298609047" MODIFIED="1292218870401" TEXT="All parameters will be quoted as necessary unless optional `requote` is `False` (the default is `True`)."/>
</node>
<node CREATED="1292218808214" FOLDED="true" ID="ID_1776390670" MODIFIED="1292218960081" TEXT="charset (string)">
<node CREATED="1292218907308" ID="ID_881959082" MODIFIED="1292218953507" TEXT="If it is specified, the parameter will be encoded according to RFC 2231."/>
</node>
<node CREATED="1292218810228" FOLDED="true" ID="ID_1575036655" MODIFIED="1292218938010" TEXT="language (string) = &apos;&apos;">
<node CREATED="1292218929155" ID="ID_547227011" MODIFIED="1292218931940" TEXT="Specifies the RFC 2231 language, defaulting to the empty string."/>
</node>
</node>
</node>
<node CREATED="1292219108688" FOLDED="true" ID="ID_1652700303" MODIFIED="1292219137826" TEXT="del_param(param[, header, requote]) [2.2.2]">
<node CREATED="1292219138205" ID="ID_1621169681" MODIFIED="1292219139448" TEXT="Overview">
<node CREATED="1292219156958" ID="ID_1491434316" MODIFIED="1292219162652" TEXT="Remove the given parameter completely from the `Content-Type` header. The header will be re-written in place without the parameter or its value."/>
</node>
<node CREATED="1292219139657" ID="ID_1425388608" MODIFIED="1292219141088" TEXT="Parameters">
<node CREATED="1292219141423" ID="ID_404636521" MODIFIED="1292219144447" TEXT="param (string)"/>
<node CREATED="1292219144654" FOLDED="true" ID="ID_963358508" MODIFIED="1292219147336" TEXT="header (string)">
<node CREATED="1292219177634" ID="ID_1395592278" MODIFIED="1292219179721" TEXT="Specifies an alternative to `Content-Type`."/>
</node>
<node CREATED="1292219147581" FOLDED="true" ID="ID_687547109" MODIFIED="1292219155241" TEXT="requote (boolean) = True">
<node CREATED="1292219165863" ID="ID_1066425667" MODIFIED="1292219175734" TEXT="All values will be quoted as necessary unless `requote` is `False` (the default is `True`)."/>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1292112341343" FOLDED="true" ID="ID_750925104" MODIFIED="1292112342675" TEXT="charset">
<node CREATED="1292112343222" ID="ID_1607454361" MODIFIED="1292112355834" TEXT="Charset"/>
</node>
<node CREATED="1292114943382" FOLDED="true" ID="ID_1753794593" MODIFIED="1292114944730" TEXT="parser">
<node CREATED="1292220422058" ID="ID_1373505321" MODIFIED="1292220423561" TEXT="Overview">
<node CREATED="1292220257654" ID="ID_1153657268" MODIFIED="1292220529676" TEXT="The `email` package provides a standard parser that understands most email document structures, including MIME documents."/>
<node CREATED="1292220530053" FOLDED="true" ID="ID_1062104842" MODIFIED="1292220530376" TEXT="You can pass the parser a string or a file object, and the parser will return to you the root `Message` instance of the object structure.">
<node CREATED="1292220477411" ID="ID_808532848" MODIFIED="1292221609042" TEXT="For simple, &apos;&apos;non-MIME&apos;&apos; messages the payload of this root object will likely be a string containing the text of the message."/>
<node CREATED="1292220482017" ID="ID_393641802" MODIFIED="1292220482017" TEXT="For MIME messages, the root object will return `True` from its `is_multipart()` method, and the subparts can be accessed via the `get_payload()` and `walk()` methods."/>
</node>
</node>
</node>
<node CREATED="1292114944967" ID="ID_1502212600" MODIFIED="1292114948536" TEXT="generator"/>
<node CREATED="1292115015762" ID="ID_623182323" MODIFIED="1292115017191" TEXT="errors"/>
<node CREATED="1292220661783" FOLDED="true" ID="ID_1053640993" MODIFIED="1292220851088" TEXT="message_from_string(s[, _class, strict])">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1292220731777" FOLDED="true" ID="ID_1478119381" MODIFIED="1292220733043" TEXT="Overview">
<node CREATED="1292220702315" ID="ID_528332259" MODIFIED="1292220727725" TEXT="Return a message object structure from a string. This is exactly equivalent to `Parser().parsestr(s)`."/>
<node CREATED="1292220728005" ID="ID_1076604445" MODIFIED="1292220728297" TEXT="Optional `_class` and `strict` are interpreted as with the `Parser` class constructor."/>
</node>
<node CREATED="1292220709655" ID="ID_1021496830" MODIFIED="1292220711409" TEXT="Parameters">
<node CREATED="1292220712007" ID="ID_530432415" MODIFIED="1292220822786" TEXT="s (string)"/>
<node CREATED="1292220714018" ID="ID_347640407" MODIFIED="1292220715592" TEXT="_class"/>
<node CREATED="1292220716208" ID="ID_216592170" MODIFIED="1292220721677" TEXT="strict [2.2.2]"/>
</node>
<node CREATED="1292220744159" ID="ID_1042713572" MODIFIED="1292220751393" TEXT="Returns: `Message`"/>
</node>
<node CREATED="1292220792117" FOLDED="true" ID="ID_1633915893" MODIFIED="1292220851088" TEXT="email.message_from_file(fp[, _class, strict])">
<font BOLD="true" NAME="Monospaced" SIZE="12"/>
<node CREATED="1292220802366" ID="ID_729027069" MODIFIED="1292220803650" TEXT="Overview">
<node CREATED="1292220825773" ID="ID_643067175" MODIFIED="1292220831370" TEXT="Return a message object structure tree from an open file object. This is exactly equivalent to `Parser().parse(fp)`."/>
<node CREATED="1292220831589" ID="ID_1457699454" MODIFIED="1292220831836" TEXT="Optional `_class` and `strict` are interpreted as with the `Parser` class constructor."/>
</node>
<node CREATED="1292220803854" ID="ID_233708635" MODIFIED="1292220805371" TEXT="Parameters">
<node CREATED="1292220806774" ID="ID_849688336" MODIFIED="1292220817580" TEXT="fp (file)"/>
<node CREATED="1292220808050" ID="ID_871479285" MODIFIED="1292220809385" TEXT="_class"/>
<node CREATED="1292220809616" ID="ID_710888323" MODIFIED="1292220813259" TEXT="strict [2.2.2]"/>
</node>
<node CREATED="1292220834689" ID="ID_138808365" MODIFIED="1292220841556" TEXT="Returns: `Message`"/>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1289922253352" ID="ID_790377278" MODIFIED="1289922255754" POSITION="left" TEXT="Web Mail">
<node CREATED="1289922346243" ID="ID_1844674659" MODIFIED="1289922381669" TEXT="&#x53ef;&#x4ee5;&#x964d;&#x4f4e;&#x7dad;&#x8b77;&#x6210;&#x672c;, &#x7db2;&#x7ba1;&#x4eba;&#x54e1;&#x4e0d;&#x7528;&#x5230;&#x6bcf;&#x4e00;&#x53f0;&#x6a5f;&#x5668;&#x4e0a;&#x8a2d;&#x5b9a; POP3/SMTP &#x4f3a;&#x670d;&#x5668;&#x7b49;"/>
</node>
<node CREATED="1281001197213" ID="ID_196396296" MODIFIED="1281001198490" POSITION="left" TEXT="Tools"/>
</node>
</map>
