<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.8" />
<title>[OpenNI] 安裝設定（Ubuntu）</title>
<link rel="stylesheet" href="../../_asciidoc/stylesheets/asciidoc.css" type="text/css" />
<link rel="stylesheet" href="../../_asciidoc/stylesheets/layout2.css" type="text/css" />
<link rel="stylesheet" href="../../_asciidoc/stylesheets/pygments.css" type="text/css" />
<link rel="Stylesheet" href="http://www.diigo.com/stylesheets/link_rolls_standard.css" title="style_standard" type="text/css" media="screen" />
<script type="text/javascript" src="../../_asciidoc/javascripts/asciidoc.js"></script>
<script type="text/javascript">
/*<![CDATA[*/
asciidoc.install();
/*]]>*/
</script>
</head>
<body>
<div id="layout-menu-box">
<div id="layout-menu">
  <div><a href="../../index.html">首頁</a> | <a href="http://www.diigo.com/user/imsardine" target="_blank">閱讀</a> | <a href="../../note/index.html">筆記</a></div>
  <div>
    <img src="http://www.gravatar.com/avatar/ca5d67276ca1ff3e5391438d7865ddf2" width="32" style="border:none"/>
    <a href="http://imsardine.wordpress.com/" target="_blank"><img src="http://s.wordpress.org/about/images/logos/wordpress-logo-32-blue.png" style="border:none"/></a>
  </div>
  <iframe src="http://githubbadge.appspot.com/badge/imsardine?s=1" style="border: 0;height: 142px;width: 200px;overflow: hidden;" frameBorder=0></iframe>
  <div class="addthis_toolbox addthis_floating_style addthis_counter_style" style="left:140px;top:230px;">
  <a class="addthis_button_facebook_like" fb:like:layout="box_count"></a>
  <a class="addthis_button_tweet" tw:count="vertical"></a>
  <a class="addthis_button_google_plusone" g:plusone:size="tall"></a>
  <a class="addthis_counter"></a>
  </div>
</div>
</div>
<div id="layout-content-box">
<div id="layout-banner">
  <div id="layout-title">在電梯裡遇見雙胞胎</div>
  <div id="layout-description">腦袋不是用來裝東西，而是用來思考問題的；所以我把懶得記的、記不住的，通通寫在這裡... <a href="http://www.diigo.com" onclick="var s=document.createElement('script');s.type='text/javascript';s.src='http://www.diigo.com/javascripts/webtoolbar/diigolet_b_h_b.js';document.body.appendChild(s);return false;"><img style="border:none" alt="Add to Diigo" src="http://www.diigo.com/images/diigo-icon/16.png" /></a></div>
</div>
<div id="layout-content">
<div id="header">
<h1><a href="openni.html">OpenNI</a> / Setup (Ubuntu)</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>下面的步驟以 Ubuntu 12.04 LTS 為例。</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
從<a href="http://www.openni.org/openni-sdk/openni-sdk-history-2/">官網</a>下載 OpenNI SDK、OpenNI-Compliant Sensor Driver 跟 NiTE。
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>2012-12 <a href="../openni2/openni2.html">OpenNI 2.x</a> 釋出之後，官方將 OpenNI 1.x 的下載位置移到<a href="http://www.openni.org/openni-sdk/openni-sdk-history-2/">這裡</a>，版號分別是：</p></div>
<div class="ulist"><ul>
<li>
<p>
OpenNI SDK v1.5.4.0
</p>
</li>
<li>
<p>
OpenNI-Compliant Sensor Driver v5.1.2.1
</p>
</li>
<li>
<p>
NiTE v1.5.2.21
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="../../_asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">由於 OpenNI-Compliant Sensor Driver（也就是 <a href="sensor-kinect.html">SensorKinect</a>）官網提供的版本目前（2012-12）只支援 Kinect for Xbox，<a href="sensor-kinect.html#k4w">並不相容於 Kinect for Windows</a>，要到<a href="https://github.com/avin2/SensorKinect/tree/unstable/Bin">avin2/SensorKinect 的 unstable 分支</a>下載最新的版本才行。</td>
</tr></table>
</div>
</div></div>
</li>
<li>
<p>
安裝 OpenNI SDK。
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>將 <code>OpenNI-Bin-Dev-Linux-x[86|64]-v1.5.4.0.tar.zip</code> 解壓縮後執行 <code>install.sh</code>。</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ sudo ./install.sh
Installing OpenNI
****************************

copying shared libraries...OK
copying executables...OK
copying include files...OK
creating database directory...OK
registering module 'libnimMockNodes.so'...OK
registering module 'libnimCodecs.so'...OK
registering module 'libnimRecorder.so'...OK
creating java bindings directory...OK
Installing java bindings...OK

*** DONE ***</code></pre>
</div></div>
</div></div>
</li>
<li>
<p>
安裝 OpenNI-Compliant Sensor Driver。
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>將 <code>Sensor-Bin-Linux-x[86|64]-v5.1.2.1.tar.zip</code> 或是從 <a href="https://github.com/avin2/SensorKinect/tree/unstable/Bin">avin2/SensorKinect 的 unstable 分支</a>取得的 <code>SensorKinect093-Bin-Linux-x[86|64]-v5.1.2.1.tar.bz2</code> 解壓縮後執行 <code>install.sh</code>。</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ sudo ./install.sh
Installing PrimeSense Sensor
****************************

creating config dir /usr/etc/primesense...OK
copying shared libraries...OK
copying executables...OK
registering module 'libXnDeviceSensorV2KM.so' with OpenNI...OK
registering module 'libXnDeviceFile.so' with OpenNI...OK
copying server config file...OK
setting uid of server...OK
creating server logs dir...OK
installing usb rules...OK
installing modprobe blacklist...OK

*** DONE ***</code></pre>
</div></div>
</div></div>
</li>
<li>
<p>
安裝 <code>freeglut3</code> 套件。
</p>
<div class="paragraph"><p>否則執行期會遇到 "error while loading shared libraries: libglut.so.3: cannot open shared object file: No such file or directory" 的錯誤。</p></div>
</li>
<li>
<p>
安裝 NiTE。
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>將 <code>NITE-Bin-Linux-x[86|64]-v1.5.2.21.tar.zip</code> 解壓縮後執行 <code>install.sh</code>。</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ sudo install.sh
Installing NITE
***************

Copying shared libraries... OK
Copying includes... OK
Installing java bindings... OK
Installing module 'Features_1_3_0'...
Registering module 'libXnVFeatures_1_3_0.so'... OK
Installing module 'Features_1_3_1'...
Registering module 'libXnVFeatures_1_3_1.so'... OK
Installing module 'Features_1_4_1'...
Registering module 'libXnVFeatures_1_4_1.so'... OK
Installing module 'Features_1_4_2'...
Registering module 'libXnVFeatures_1_4_2.so'... OK
Installing module 'Features_1_5_2'...
Registering module 'libXnVFeatures_1_5_2.so'... OK
Copying XnVSceneServer... OK
Installing module 'Features_1_5_2'
registering module 'libXnVHandGenerator_1_3_0.so'...OK
Installing module 'Features_1_5_2'
registering module 'libXnVHandGenerator_1_3_1.so'...OK
Installing module 'Features_1_5_2'
registering module 'libXnVHandGenerator_1_4_1.so'...OK
Installing module 'Features_1_5_2'
registering module 'libXnVHandGenerator_1_4_2.so'...OK
Installing module 'Features_1_5_2'
registering module 'libXnVHandGenerator_1_5_2.so'...OK
Adding license.. OK

*** DONE ***</code></pre>
</div></div>
</div></div>
</li>
<li>
<p>
將 Kinect（或 Kinect for Windows）接到電腦。
</p>
<div class="listingblock">
<div class="content">
<pre><code>$ dmesg
...
[  204.392056] usb 1-1: new high-speed USB device number 3 using ehci_hcd
[  204.524768] hub 1-1:1.0: USB hub found
[  204.524832] hub 1-1:1.0: 2 ports detected
[  205.536234] usb 1-1.1: new high-speed USB device number 4 using ehci_hcd
[  208.612232] usb 1-1.2: new high-speed USB device number 5 using ehci_hcd
$
$ lsusb
...
Bus 002 Device 005: ID 045e:02c2 Microsoft Corp.
Bus 002 Device 006: ID 045e:02be Microsoft Corp.
Bus 002 Device 007: ID 045e:02bf Microsoft Corp.</code></pre>
</div></div>
</li>
<li>
<p>
最後執行一些 OpenNI 或 NiTE 所附的範例程式（例如 NiViewer 或 Sample-StickFigure），確認 OpenNI 可以正常驅動硬體裝置。
</p>
</li>
</ol></div>
</div>
</div>
<div class="sect1">
<h2 id="_延伸閱讀">延伸閱讀</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="setup-windows.html">安裝設定 (Windows)</a>
</p>
</li>
<li>
<p>
<a href="sensor-kinect.html">SensorKinect</a>
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_參考資料">參考資料</h2>
<div class="sectionbody">
<div class="openblock">
<div class="title">網站</div>
<div class="content">
<div class="ulist"><ul>
<li>
<p>
<a href="http://www.openni.org/openni-sdk/openni-sdk-history-2/">OpenNI SDK history | OpenNI</a>
</p>
</li>
</ul></div>
</div></div>
<div class="openblock">
<div class="title">文件</div>
<div class="content">
<div class="ulist"><ul>
<li>
<p>
<a href="http://fivedots.coe.psu.ac.th/~ad/kinect/installation.html">OpenNI/NITE Installation on Windows</a> <sup><a href="http://diigo.com/0vckl">閱讀</a></sup>
</p>
</li>
</ul></div>
</div></div>
<div class="openblock">
<div class="title">其他文件</div>
<div class="content">
<div class="ulist"><ul>
<li>
<p>
<a href="http://igorbarbosa.com/articles/how-to-install-kin-in-linux-mint-12-ubuntu/">How to: Install Kinect in Linux (Mint 12, Ubuntu 12.04) « Igor Barbosa</a> <sup><a href="http://diigo.com/0vdld">閱讀</a></sup> (2012-03-25) - 關鍵在 SensorKinect 要下載 unstable 版本的原始碼重新編譯過，否則會有 "The device is not connected" 的錯誤。
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
<div id="disqus_thread"></div>
<script type="text/javascript">
var disqus_shortname = 'imsardine'; // required: replace example with your forum shortname
(function() {
var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2013-02-26 13:43:11 CST
</div>
</div>
</div>
</div>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="http://s.gravatar.com/js/gprofiles.js?ver=e"></script>
<script>jQuery(document).ready(function($){ Gravatar.init(); });</script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50d9b63d0e6d1b63"></script>
</body>
</html>
