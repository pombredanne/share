<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.8" />
<title>Linux</title>
<link rel="stylesheet" href="../../_asciidoc/stylesheets/asciidoc.css" type="text/css" />
<link rel="stylesheet" href="../../_asciidoc/stylesheets/layout2.css" type="text/css" />
<script type="text/javascript" src="../../_asciidoc/javascripts/asciidoc.js"></script>
<script type="text/javascript">
/*<![CDATA[*/
asciidoc.install();
/*]]>*/
</script>
</head>
<body>
<div id="layout-menu-box">
<div id="layout-menu">
  <div>&#187;<a href="../../index.html">首頁</a></div>
  <div>&#187;<a href="../../note/index.html">學習筆記</a></div>
  <div><img src="http://www.gravatar.com/avatar/ca5d67276ca1ff3e5391438d7865ddf2" border="0" /><br/><em>Jeremy Kao</em></div>
  <div>&#187;<a href="http://imsardine.wordpress.com">部落格</a></div>
  <div>&#187;<a href="https://github.com/imsardine">GitHub</a></div>
  <!-- <div id="page-source">&#187;<a href="linux.txt">頁面原始碼</a></div> -->
</div>
</div>
<div id="layout-content-box">
<div id="layout-banner">
  <div id="layout-title">在電梯裡遇見雙胞胎</div>
  <div id="layout-description">腦袋不是用來裝東西，而是用來思考問題的；所以我把懶得記的、記不住的，通通寫在這裡...</div>
</div>
<div id="layout-content">
<div id="header">
<h1>Linux</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_auditing">Auditing</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="http://www.cyberciti.biz/tips/linux-audit-files-to-see-who-made-changes-to-a-file.html">Linux audit files to see who made changes to a file</a> (2007-03-19)
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_資源管理_記憶體">資源管理：記憶體</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<code>free</code> 可以查看系統記體體使用情形。
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="../../_asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="title">參考資料</div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://www.cyberciti.biz/faq/ubuntu-linux-4gb-ram-limitation-solution/">Ubuntu 4GB Ram Limitation and Solution</a> (2008-12-27)
</p>
</li>
</ul></div>
</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_locale_與_encoding">Locale 與 Encoding</h2>
<div class="sectionbody">
<div class="paragraph"><p>可以用 <code>locale</code> 來輸出當下的 locale environment：</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ locale
LANG=en_US.utf8                 <img src="../../_asciidoc/images/icons/callouts/1.png" alt="1" />
LC_CTYPE="en_US.utf8"           <img src="../../_asciidoc/images/icons/callouts/2.png" alt="2" />
LC_NUMERIC="en_US.utf8"
LC_TIME="en_US.utf8"
LC_COLLATE="en_US.utf8"
LC_MONETARY="en_US.utf8"
LC_MESSAGES="en_US.utf8"        <img src="../../_asciidoc/images/icons/callouts/3.png" alt="3" />
LC_PAPER="en_US.utf8"
LC_NAME="en_US.utf8"
LC_ADDRESS="en_US.utf8"
LC_TELEPHONE="en_US.utf8"
LC_MEASUREMENT="en_US.utf8"
LC_IDENTIFICATION="en_US.utf8"
LC_ALL=                         <img src="../../_asciidoc/images/icons/callouts/4.png" alt="4" /></code></pre>
</div></div>
<div class="colist arabic"><table>
<tr><td><img src="../../_asciidoc/images/icons/callouts/1.png" alt="1" /></td><td>
<code>LANG</code> 做為 <code>LC_*</code> 的預設值。
</td></tr>
<tr><td><img src="../../_asciidoc/images/icons/callouts/2.png" alt="2" /></td><td>
<code>LC_CTYPE</code> 決定要如何解讀使用者的輸入。
</td></tr>
<tr><td><img src="../../_asciidoc/images/icons/callouts/3.png" alt="3" /></td><td>
<code>LC_MESSAGES</code> 會影響輸出訊息的語系。
</td></tr>
<tr><td><img src="../../_asciidoc/images/icons/callouts/4.png" alt="4" /></td><td>
<code>LC_ALL</code> 會覆寫其他 <code>LC_*</code> 的設定。
</td></tr>
</table></div>
<div class="paragraph"><p>總而言之，各種設定的優先權是 <code>LC_ALL</code> &gt; <code>LC_*</code> &gt; <code>LANG</code>，個別 <code>LC_*</code> 對 locale-aware program 的影響，可以參考 <code>man locale</code> 的說明。</p></div>
<div class="paragraph"><p>所有系統支援節 locale，可以用 <code>local -a</code> 或 <code>locale --all-locales</code> 輸出：</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ locale --all-locales
C
en_AG
en_AG.utf8
en_AU.utf8
en_BW.utf8
en_CA.utf8
en_DK.utf8
en_GB.utf8
en_HK.utf8
en_IE.utf8
en_IN
en_IN.utf8
en_NG
en_NG.utf8
en_NZ.utf8
en_PH.utf8
en_SG.utf8
en_US.utf8
en_ZA.utf8
en_ZW.utf8
POSIX</code></pre>
</div></div>
<div class="paragraph"><p>CentOS 的系統預設值在 &#8216;/etc/sysconfig/i18n<code>，建議透過 `system-config-language</code>（要額外安裝 <code>system-config-language</code> 套件）來修改（直接修改該檔案好像不是很妥當，記得之前操作 Ubuntu 時，切換語系會造成家目錄底下的資料夾一起更名，例如 <em>Desktop</em> &#8594;&#8217;桌面<em>、'Downloads</em> &#8594; <em>下載</em> 等），這個工具</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>iconv -f from_encoding -t to_encoding</code> 可以用來轉 encoding，例如 <code>iconv -f big5 -t utf8 big5.txt</code>。
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="../../_asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="title">參考資料</div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://hi.baidu.com/edeed/blog/item/2e99a14440bd8884b2b7dcb1.html">locale的設定及其LANG、LC_ALL、LANGUAGE環境變量的區別<em>骨骨學習筆記</em>百度空間</a> (2008-10-08)
</p>
</li>
<li>
<p>
<a href="http://blog.chinaunix.net/space.php?uid=7921481&amp;do=blog&amp;cuid=1161340">wslium - ChinaUnix博客 - IT人與你分享快樂生活</a> (2008-09-01)
</p>
</li>
</ul></div>
</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_migrate_from_windows">Migrate from Windows</h2>
<div class="sectionbody">
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="../../_asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="title">參考資料</div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://www.linuxalt.com/">The Linux Alternative Project</a>
</p>
</li>
</ul></div>
</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_啟動設定">啟動設定</h2>
<div class="sectionbody">
<div class="paragraph"><p>按照 <code>man bash</code> 的說法：</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>/etc/profile</code> - The systemwide initialization file, executed for login shells.
</p>
</li>
<li>
<p>
<code>~/.bash_profile</code> - The personal initialization file, executed for login shells.
</p>
</li>
<li>
<p>
<code>~/.bashrc</code> - The individual per-interactive-shell startup file.
</p>
</li>
</ul></div>
<div class="paragraph"><p>&#8230;</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://stefaanlippens.net/bashrc_and_others">Bash: about .bashrc, .bash_profile, .profile, /etc/profile, etc/bash.bashrc and others | Stefaan Lippens' webface</a> (2005-10-03)
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_logging">Logging</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
logtail 可以用來監看多台機器上的多個 logs。
</p>
</li>
<li>
<p>
<code>multitail</code>
</p>
</li>
<li>
<p>
<a href="http://onaxer.com/blog/blog/tag/how-monitor-multiple-logs-in-linux/">How Monitor Multiple Logs In Linux | Nix World</a> (2010-05-21)
</p>
</li>
<li>
<p>
<a href="http://www.fourmilab.ch/webtools/logtail/">logtail: watch multiple log files on multiple machines</a>
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_日期_時間">日期／時間</h2>
<div class="sectionbody">
<div class="paragraph"><p>Linux 開機時，會先讀取 BIOS 所記錄的時間，然後開始用自己的方式來計時。</p></div>
<div class="paragraph"><p>Linux 作業系統當中其實有兩個時間，一個是 BIOS 硬體時鐘（hardware clock），一個則是 Linux 自己的系統時間（system time）。當我們使用 <code>date --set</code> 來設定時間時，只是更動到 Linux 的系統時間而已，BIOS 的時間並不會受到影響，除非用 <code>hwclock --systohc</code> 將系統時間寫入 BIOS。</p></div>
<div class="paragraph"><p>不過 Linux 作業系統通常會在關機時，自動將系統時間寫回 BIOS，因此 <code>hwclock --systohc</code> 的動作也並非必要。</p></div>
<div class="sect2">
<h3 id="_時區">時區</h3>
<div class="paragraph"><p>時間有一個很重要的概念就是時區（time zone）。在 Linux 下，時區的定義跟各國日光節約時的規定都記錄在 <code>tzdata</code> 套件裡（Time Zone Data；許多時區檔案被安裝到 <code>/usr/share/zoneinfo/</code> 底下），這也就是為什麼 <code>tzdata</code> 更新頻率會這麼高的原因。</p></div>
<div class="paragraph"><p>想知道系統的時區，可以查看 <code>/etc/localtime</code> 的內容，不過各 distros 的處理方式有些許不同。以 Red Hat 系統為例，它是以複製的方式來處理這個檔案（Debian 也是），而 SuSE 則是以 hard link 的方式來處理。</p></div>
<div class="paragraph"><p>UTC+0 也有自己的時區檔 <code>/usr/share/zoneinfo/Etc/UTC</code>。</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ cat /etc/localtime
TZif2UTCTZif2UTC
UTC0</code></pre>
</div></div>
<div class="paragraph"><p>要設定時區的話，可以改變 <code>/etc/localtime</code> 的指向。CentOS 則有專用的工具，但必須額外安裝 <code>system-config-date</code> 套件。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="../../_asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="title">參考資料</div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://www.cyberciti.biz/faq/howto-linux-unix-change-setup-timezone-tz-variable/">Howto: Linux server change or setup the timezone</a> (2006-08-27)
</p>
</li>
</ul></div>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_是否要將_bios_的時間解讀成_utc">是否要將 BIOS 的時間解讀成 UTC？</h3>
<div class="paragraph"><p>安裝 Linux 的過程中，時間設定的部份常會被問到 “System clock uses UTC”。</p></div>
<div class="paragraph"><p>讓 BIOS 記錄 UTC 時間的好處是，系統會自動調整 DST（Daylight Saving Time；不需要手動依當地規定調整時間，前提當然是 <code>tzdata</code> 套件要定期更新）。不過在 multi-boot 的環境下，尤其是其中包含有 Windows 作業系統，則建議將 BIOS 的時間設為 local time，因為 Windows 沒有類似 Linux 下 “是否要將 BIOS 時間解讀成 UTC“ 的選項。</p></div>
<div class="paragraph"><p>對 VM 而言，每個 VM 底層的 hardware clock 都是獨立的，所以沒有 multi-boot 的問題。</p></div>
<div class="paragraph"><p>從 BIOS 讀出來的時間，要解讀成 UTC 或時區所在的 local time，設定方式會因系統而異。CentOS 設定在 <code>/etc/sysconfig/clock</code> 中的 <code>UTC</code>（<code>true</code>/<code>false</code>），Debian 則設定在 <code>/etc/default/rcS</code> 中的 <code>UTC</code>（<code>yes</code>/<code>no</code>）。</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mounting">Mounting</h2>
<div class="sectionbody">
<div class="paragraph"><p>如果只是做為說明或測試之用，我們習慣暫時掛在 <code>/mnt</code>，測試沒問題之後，再視情況把設定移到 <code>/etc/fstab</code>（通常會改掛到 <code>/media</code> 下的子目錄)。</p></div>
<div class="literalblock">
<div class="content">
<pre><code>mount [options] device dir
mount [options] device|dir</code></pre>
</div></div>
<div class="paragraph"><p>如果要掛載一個 Windows share，可以用下面的格式</p></div>
<div class="listingblock">
<div class="content">
<pre><code>mount.cifs //10.201.16.7/Build/WFBSH/3.6/centos5_2/en/Rel /mnt/ci_build -o username=trend\\xxx
//10.201.16.7/Build/WFBSH/3.6/centos5_2/en/Rel /mnt/ci_build cifs r,uid=1000,username=trend\ets_fs_auto,password=testing!@t2009 0 0</code></pre>
</div></div>
<div class="paragraph"><p><code>/etc/fstab</code> 的寫法可以參考 <code>man 5 fstab</code>。裡面每一行都記錄著開機時要自動完成哪些 mounts，不同欄位之間用 whitespace 隔開。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_encryption_signing">Encryption / Signing</h2>
<div class="sectionbody">
<div class="paragraph"><p>例如下載 CentOS 的 ISO images 後會得到下列這些檔案：</p></div>
<div class="listingblock">
<div class="content">
<pre><code>.
|-- CentOS-5.3-x86_64-bin-DVD.iso
|-- md5sum.txt
|-- md5sum.txt.asc
|-- sha1sum.txt
`-- sha1sum.txt.asc

$ cat md5sum.txt.asc
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

6d4fd59688ed8644514010316d6a5698  CentOS-5.3-x86_64-bin-DVD.iso
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.6 (GNU/Linux)

iD8DBQFJ0VYZqKRH3OhWKJcRAkhCAJ9kYlFyXIgtEjTjjxbMu5/TBoYKwwCgsYce
8WLtfuqWpG+hzl3zcYG+1Iw=
=ywF8
-----END PGP SIGNATURE-----</code></pre>
</div></div>
<div class="paragraph"><p>可以用 <code>gpg</code> 做檢查：</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ gpg --verify md5sum.txt.asc *.iso</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>$ gpg --import RPM-GPG-KEY-CentOS-5
gpg: keyring `/home/jeremy/.gnupg/secring.gpg' created
gpg: /home/jeremy/.gnupg/trustdb.gpg: trustdb created
gpg: key E8562897: public key "CentOS-5 Key (CentOS 5 Official Signing Key) &lt;centos-5-key@centos.org&gt;" imported
gpg: Total number processed: 1
gpg:               imported: 1
gpg: no ultimately trusted keys found</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>$ gpg --verify md5sum.txt.asc CentOS-5.3-x86_64-bin-DVD.iso
gpg: not a detached signature</code></pre>
</div></div>
<div class="exampleblock">
<div class="title">Example 1. 參考資料</div>
<div class="content">
<div class="ulist"><ul>
<li>
<p>
<a href="http://jakarta.apache.org/site/downloads/downloads_jmeter.cgi">The Jakarta Site - JMeter Downloads</a>
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_tty">TTY</h2>
<div class="sectionbody">
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="../../_asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="title">參考資料</div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://www.linusakesson.net/programming/tty/index.php">The TTY demystified</a>
</p>
</li>
</ul></div>
</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_gnome">GNOME</h2>
<div class="sectionbody">
<div class="paragraph"><p>GNOME 的組態存在一個類似 windows registry 的樹狀結構裡。可以透過 Configuration Editor (<code>gconf-editor</code>) 來做修改。</p></div>
<div class="paragraph"><p>常用的 shortcuts 有：</p></div>
<div class="ulist"><ul>
<li>
<p>
F11: 通常可以在全螢幕／非全螢幕兩種模式間切換。
</p>
</li>
<li>
<p>
Alt+F1: 開啟系統主選單（左上角的 Applications、Places、System），可以用方向鍵操作。
</p>
</li>
<li>
<p>
Alt+F2: 開啟 Run Application 的對話框，跟 Windows 裡的 Win + R 作用一樣。
</p>
</li>
<li>
<p>
Alt+F4: 關閉目前的視窗。
</p>
</li>
<li>
<p>
Alt+F5: 視窗回復到原來的大小。
</p>
</li>
<li>
<p>
Alt+F10: 將目前的視窗放到最大。
</p>
</li>
<li>
<p>
Shift+F10: 開啟右鍵選單。
</p>
</li>
<li>
<p>
Ctrl+Alt+Arrow: 切換 workspace。
</p>
</li>
<li>
<p>
Shift+Ctrl+Alt+Arrow: 移動目前的視窗到其他 workspace。（當目前的視窗是 full screen 時尤其好用）
</p>
</li>
</ul></div>
<div class="paragraph"><p><code>gconf-editor</code></p></div>
<div class="sect2">
<h3 id="_gnome_terminal_code_gnome_terminal_code">GNOME Terminal (<code>gnome-terminal</code>)</h3>
<div class="ulist"><ul>
<li>
<p>
Terminal &gt; Set Title&#8230; 的功能很常用，可以透過 Configuration Editor 來設定，key 的位置在：<code>/schemas/apps/gnome-terminal/keybindings/set_terminal_title</code>。
</p>
<div class="ulist"><ul>
<li>
<p>
結果 Ubuntu 上也不給給，出現 "Currently pairs and schemas can&#8217;t be edited. This will be changed in a later version." 的錯誤。
</p>
</li>
<li>
<p>
目前暫時可以用 Alt+T &#8594; Enter 的方式快速存取到 Terminal &gt; Set Title&#8230; 的功能。
</p>
</li>
</ul></div>
</li>
<li>
<p>
<a href="http://people.gnome.org/~bmsmith/gconf-docs/C/gnome-terminal.html">gnome-terminal</a>
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="../../_asciidoc/images/icons/tip.png" alt="Tip" />
</td>
<td class="content">如果要讓自己習慣 CLI 的操作的話，可以用獨立的 workspace 來全螢幕顯示，取消 menu bar 跟 scrollbar 的顯示（<code>gnome-terminal --hide-menubar</code> 可以一開始就不顯示 menu bar）。如此一來，可以讓自己習慣 CLI 的操作，必要時也可以快速切換到其他 workspaces（這比在 Ctrl+Alt+1 跟 Ctrl+Alt+7 之間切換方便）。</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="../../_asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="title">參考資料</div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://www.cyberciti.biz/faq/xclip-linux-insert-files-command-output-intoclipboard/">Copy Shell Prompt Output To Linux / UNIX X Clipboard Directly</a>
</p>
</li>
<li>
<p>
<a href="http://linuxtidbits.wordpress.com/2008/02/22/command-line-to-clipboard/">Command Line to Clipboard « Helpful Linux Tidbits</a>
</p>
</li>
</ul></div>
</td>
</tr></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_檔案總管_nautilus">檔案總管（Nautilus）</h2>
<div class="sectionbody">
<div class="openblock">
<div class="title">常用的快速鍵</div>
<div class="content">
<div class="ulist"><ul>
<li>
<p>
Ctrl+N - 開新視窗，顯示家目錄的內容
</p>
</li>
<li>
<p>
Ctrl+T - 開新頁籤，顯示目前所在目錄的內容
</p>
</li>
<li>
<p>
Shift+Ctrl+N - 建立一個新目錄
</p>
</li>
<li>
<p>
Ctrl+Q - 關閉桌面上所有檔案總管的視窗
</p>
</li>
<li>
<p>
Ctrl+W - 關閉目前的頁籤或視窗
</p>
</li>
<li>
<p>
Shift+Ctrl+O - 在新視窗開啟選取的目錄（不知道為什麼結果還是開在新頁籤？）
</p>
</li>
<li>
<p>
Alt+1 ~ Alt+9 - 切換到第 N 個頁籤
</p>
</li>
<li>
<p>
Backspace, Alt+Up - 回上一層目錄
</p>
</li>
<li>
<p>
Alt+Left - 到瀏覽記錄的上一個目錄（Back）
</p>
</li>
<li>
<p>
Alt+Right - 到到瀏覽記錄的下一個目錄（Forward）
</p>
</li>
<li>
<p>
Ctrl+1 ~ Ctrl+3 - 切換圖示（Icon）、清單（List）、精簡（Compact）檢視
</p>
</li>
<li>
<p>
Alt+Home - 回到家目錄
</p>
</li>
</ul></div>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="../../_asciidoc/images/icons/tip.png" alt="Tip" />
</td>
<td class="content">直接輸入文件可以在目前的目錄下搜尋檔案（不分大小寫），上下鍵可以用來找上一個或下一個符合條件的檔案。</td>
</tr></table>
</div>
<div class="paragraph"><p>常用的 Plug-in 有：</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>nautilus-open-terminal</code> - 可以在 Nautilus 裡，按右鍵選 Open in Terminal 開出 terminal。
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_操作檔案">操作檔案</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
複製多個檔案時，可以用 <code>cp -v</code> 來提示進度。但遇到單一個大檔案就沒解了。
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_壓縮檔的處理">壓縮檔的處理</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_tar">Tar</h3>
<div class="ulist"><ul>
<li>
<p>
<code>tar -tf archive.tar</code> - 列出壓縮檔的內容。對於 <code>.tar.gz</code> 或 <code>.tar.bz</code> 等檔案，不用額外加 <code>-j</code> 或 <code>-z</code>。
</p>
</li>
<li>
<p>
<code>tar -xf archive.tar -C /tmp</code> - 將 <em>archive.tar</em> 解壓縮到 <em>/tmp</em>。
</p>
</li>
<li>
<p>
<code>tar -xzf archive.tar.gz -C /tmp</code> - 將 <em>archive.tar.gz</em> 解壓縮到 <em>/tmp</em>。
</p>
</li>
<li>
<p>
<code>tar -xjf archive.tar.bz2 -C /tmp</code> - 將 <em>archive.tar.bz2</em> 解壓縮到 <em>/tmp</em>。
</p>
</li>
<li>
<p>
<code>tar -czvf archive.tar.gz pathnames</code> - 將 <em>pathnames</em>（包含子目錄）壓縮成 <em>archive.tar.gz</em>。
</p>
</li>
<li>
<p>
<code>tar -cjvf archive.tar.bz2 pathnames</code> - 將 <em>pathnames</em>（包含子目錄）壓縮成 <em>archive.tar.bz2</em>。
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="../../_asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="title">參考資料</div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://en.wikipedia.org/wiki/Tar_(file_format)">tar (file format) - Wikipedia, the free encyclopedia</a>
</p>
</li>
<li>
<p>
<a href="http://www.gnu.org/software/tar/">Tar - GNU Project - Free Software Foundation (FSF)</a>
</p>
<div class="ulist"><ul>
<li>
<p>
<a href="http://www.gnu.org/software/tar/manual/">GNU tar manual</a>
</p>
</li>
</ul></div>
</li>
</ul></div>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_zip">ZIP</h3>
<div class="ulist"><ul>
<li>
<p>
<code>unzip archive.zip -d destdir</code> - 將 <em>archive.zip</em> 解壓縮到 <em>destdir</em>（如果 <em>destdir</em> 不存在的話，會自動建立）。
</p>
</li>
<li>
<p>
<code>unzip -l archive.zip</code> - 列出 <em>archive.zip</em> 的內容。
</p>
</li>
<li>
<p>
<code>unzip -t archive.zip</code> - 檢查 <em>archive.zip</em> 有沒有問題。
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="../../_asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="title">參考資料</div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://en.wikipedia.org/wiki/ZIP_(file_format)">ZIP (file format) - Wikipedia, the free encyclopedia</a>
</p>
</li>
</ul></div>
</td>
</tr></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_networking">Networking</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
`netstat -na | grep `
</p>
</li>
<li>
<p>
DNS 設定存放在 <code>/etc/resolv.conf</code>
</p>
</li>
<li>
<p>
<code>wget URL -O file</code> - 將 URL 另存成 file
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="../../_asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="title">參考資料</div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://www.xenocafe.com/tutorials/linux/redhat/bind_multiple_ip_addresses_to_single_nic/index.php">Bind Multiple IP Addresses to a Single Network Interface Card (NIC)</a> (2005-09-09)
</p>
</li>
<li>
<p>
<a href="http://www.debian-administration.org/articles/184">How to find out which process is listening upon a port</a> (2005-07-13)
</p>
</li>
</ul></div>
</td>
</tr></table>
</div>
<div class="sect2">
<h3 id="_routing">Routing</h3>
<div class="paragraph"><p>單純使用 <code>route</code> 可以印出 Kernel IP routing table。</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
10.1.244.0      *               255.255.252.0   U     2      0        0 wlan0
link-local      *               255.255.0.0     U     1000   0        0 eth0
172.16.0.0      *               255.255.0.0     U     1      0        0 eth0
default         localhost-2.loc 0.0.0.0         UG    0      0        0 eth0</code></pre>
</div></div>
<div class="paragraph"><p>透過 <code>route add</code> 可以指定目標是某 host 或 network 的封包，往特定的 network interface 及 gateway 送。</p></div>
<div class="ulist"><ul>
<li>
<p>
除非兩張網卡接到不同的網路，通常 <code>dev &lt;network_interface&gt;</code> 是不用加的。
</p>
</li>
<li>
<p>
其中 <code>-host</code> 的 netmask 固定是 <code>255.255.255.255</code>。
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code># route add -host &lt;host_ip&gt; [gw &lt;gateway_ip&gt;] [dev &lt;network_interface&gt;]
# route add -net &lt;network_ip&gt; netmask &lt;netmask&gt; [gw &lt;gateway_ip&gt;] [dev &lt;network_interface&gt;]</code></pre>
</div></div>
<div class="paragraph"><p>例如：</p></div>
<div class="listingblock">
<div class="content">
<pre><code># route add -net 10.45.32.0 netmask 255.255.255.0 gw 10.1.247.254 dev wlan0
# route add -host 10.28.6.11 gw 10.1.247.254 dev wlan0</code></pre>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_awk">awk</h2>
<div class="sectionbody">
<div class="paragraph"><p><em>awk</em> 可以用來取出特定欄位的內容，用 <code>-F</code> 來指定欄位的分隔字元。例如：</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ cat /etc/passwd | head -5
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin

$ cat /etc/passwd | head -5 | awk -F ':' '{print $1, $7}'
root /bin/bash
bin /sbin/nologin
daemon /sbin/nologin
adm /sbin/nologin
lp /sbin/nologin</code></pre>
</div></div>
<div class="paragraph"><p>yum list installed | grep wfbsh | awk -F ' ' <em>{print $1}</em>
wfbsh_dbal.noarch
wfbsh_notif.noarch
wfbsh_protobuf.noarch
wfbsh_report.noarch
wfbsh_saas_sd.noarch
wfbsh_system.noarch
wfbsh_util.noarch</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_ftp_server">FTP Server</h2>
<div class="sectionbody">
<div class="paragraph"><p><code>vsftpd</code> (Very Secure FTP Daemon) 是 Ubuntu、Red Hat 等慣用的 FTP 伺服器套件。</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
安裝 <code>vsftpd</code>。
</p>
<div class="listingblock">
<div class="content">
<pre><code># yum install vsftpd
# chkconfig vsftpd on</code></pre>
</div></div>
</li>
<li>
<p>
組態 firewall。
</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="title"><code>/etc/sysconfig/iptables</code></div>
<div class="content">
<pre><code>...
-A RH-Firewall-1-INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT
-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 21 -j ACCEPT <img src="../../_asciidoc/images/icons/callouts/1.png" alt="1" />
-A RH-Firewall-1-INPUT -j REJECT --reject-with icmp-host-prohibited
COMMIT</code></pre>
</div></div>
<div class="colist arabic"><table>
<tr><td><img src="../../_asciidoc/images/icons/callouts/1.png" alt="1" /></td><td>
仿 SSH 的設定，加上這一行。
</td></tr>
</table></div>
<div class="paragraph"><p>然後執行：</p></div>
<div class="literalblock">
<div class="content">
<pre><code># iptables-restore /etc/sysconfig/iptables</code></pre>
</div></div>
</div></div>
</li>
<li>
<p>
建立使用者帳號。
</p>
<div class="listingblock">
<div class="content">
<pre><code># useradd &lt;ftpuser&gt; <img src="../../_asciidoc/images/icons/callouts/1.png" alt="1" />
# passwd &lt;ftpuser&gt;</code></pre>
</div></div>
<div class="colist arabic"><table>
<tr><td><img src="../../_asciidoc/images/icons/callouts/1.png" alt="1" /></td><td>
其中 <em>ftpuser</em> 是專供 FTP 存取的帳號。基本上，<code>vsftpd</code> 的帳號是跟 OS 整合在一起的，如果要獨立出來的話，要組態 virtual users。
</td></tr>
</table></div>
</li>
</ol></div>
<div class="paragraph"><p>細部的組態可以查詢 <code>man vsftpd.conf</code>。</p></div>
<div class="paragraph"><p>過程中如果遇到下面的錯誤，只要把 SELinux 停用即可。</p></div>
<div class="listingblock">
<div class="content">
<pre><code>500 OOPS: cannot change directory:/home/jeremy
Login failed.</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="../../_asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="title">參考資料</div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://en.wikipedia.org/wiki/Vsftpd">vsftpd - Wikipedia, the free encyclopedia</a>
</p>
</li>
<li>
<p>
<a href="http://www.centos.org/docs/5/html/Deployment_Guide-en-US/s1-ftp-servers.html">Red Hat Enterprise Linux 5 &gt; Deployment Guide &gt; 22.2. FTP Servers</a>
</p>
</li>
<li>
<p>
<a href="https://help.ubuntu.com/11.04/serverguide/C/ftp-server.html">Ubuntu 11.04 &gt; Ubuntu Server Guide &gt; File Servers</a>
</p>
</li>
<li>
<p>
<a href="http://www.cyberciti.biz/tips/rhel-fedora-centos-vsftpd-installation.html">Red Hat / CentOS VSFTPD FTP Server Configuration</a> (2009-05-21)
</p>
</li>
<li>
<p>
<a href="http://www.cyberciti.biz/faq/rhel-centos-linux-install-ftp-server/">CentOS / Red Hat Linux Install VSFTPD FTP Server</a> (2008-05-12)
</p>
</li>
<li>
<p>
<a href="http://www.cyberciti.biz/faq/linux-delete-user-password/">Linux: Delete user password</a> (2006-02-16)
</p>
</li>
</ul></div>
</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_nohup">nohup</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre><code>nohup COMMAND [ARG] &amp;
exit</code></pre>
</div></div>
<div class="paragraph"><p>忽略 HUP (hangup) signal，使得 <em>COMMAND</em> 在使用者登出之後還能繼續執行。另外 <code>nohup</code> 並不會自動將 <em>COMMAND</em> 擺到背景執行，所以必須自己在最後面加上 <code>&amp;</code>，結果很像是將 <code>COMMAND</code> 變成一個 daemon。</p></div>
<div class="paragraph"><p>standard input/output/error 可以手動轉向，例如：</p></div>
<div class="literalblock">
<div class="content">
<pre><code>$ nohup COMMAND &gt; stdout.log 2&gt; stderr.log &lt; stdin.txt &amp;</code></pre>
</div></div>
<div class="paragraph"><p>沒有被手動轉向的部份（也就是 terminal），<code>nohup</code> 會自動將它導掉：</p></div>
<div class="ulist"><ul>
<li>
<p>
stderr &#8594; stdout
</p>
</li>
<li>
<p>
stdin &#8594; <code>/dev/null</code>
</p>
</li>
<li>
<p>
stdout &#8594; <code>nohup.out</code>（目前所在目錄）
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="../../_asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="title">參考資料</div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://en.wikipedia.org/wiki/Nohup">nohup - Wikipedia, the free encyclopedia</a>
</p>
</li>
<li>
<p>
<a href="http://manpages.debian.net/cgi-bin/man.cgi?query=nohup">Debian Hypertext Man Pages: nohup</a>
</p>
</li>
</ul></div>
</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_延伸閱讀">延伸閱讀</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="nautilus.html">Nautilus</a>
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_參考資料">參考資料</h2>
<div class="sectionbody">
<div class="openblock">
<div class="title">網站</div>
<div class="content">
<div class="ulist"><ul>
<li>
<p>
<a href="http://iso.linuxquestions.org/">&gt; Download Linux - LQ ISO</a>
</p>
</li>
</ul></div>
</div></div>
<div class="openblock">
<div class="title">書籍</div>
<div class="content">
<div class="ulist"><ul>
<li>
<p>
<a href="http://www.wiley.com/WileyCDA/WileyTitle/productCd-111821854X.html">Wiley - Linux Bible</a> (2012-08 est.)
</p>
</li>
<li>
<p>
<a href="http://www.wiley.com/WileyCDA/WileyTitle/productCd-1118106792.html">Wiley - Linux Essentials</a> (2012-04)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/0636920023029.do">O&#8217;Reilly - Linux Pocket Guide, 2nd Edition</a> (2012-03)
</p>
</li>
<li>
<p>
<a href="http://www.wiley.com/WileyCDA/WileyTitle/productCd-0470929987.html">Wiley - Linux Bible 2011 Edition: Boot up to Ubuntu, Fedora, KNOPPIX, Debian, openSUSE, and 13 Other Distributions</a> (2011-01)
</p>
</li>
<li>
<p>
<a href="http://www.wiley.com/WileyCDA/WileyTitle/productCd-0470770198.html">Wiley - Linux All-in-One For Dummies, 4th Edition</a> (2010-09)
</p>
</li>
<li>
<p>
<a href="http://www.packtpub.com/linux-email/book">Packt - Linux Email</a> (2009-11)
</p>
</li>
<li>
<p>
<a href="http://www.apress.com/9781430224495">Apress - Linux System Administration Recipes</a> (2009-10)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/9780596154493.do">O&#8217;Reilly - Linux in a Nutshell, 6th Edition</a> (2009-09)
</p>
</li>
<li>
<p>
<a href="http://www.wiley.com/WileyCDA/WileyTitle/productCd-0470467010.html">Wiley - Linux For Dummies, 9th Edition</a> (2009-08)
</p>
</li>
<li>
<p>
<a href="http://www.peachpit.com/store/product.aspx?isbn=0321636783">Peachpit - Unix and Linux: Visual QuickStart Guide, 4th Edition</a> (2009-06)
</p>
</li>
<li>
<p>
<a href="http://www.apress.com/9781430219125">Apress - Pro Linux System Administration</a> (2009-06)
</p>
</li>
<li>
<p>
<a href="http://www.apress.com/9781430216506">Apress - Mac for Linux Geeks</a> (2009-01)
</p>
</li>
<li>
<p>
<a href="http://www.wiley.com/WileyCDA/WileyTitle/productCd-0470147733.html">Wiley - TCP/IP Architecture, Design and Implementation in Linux</a> (2008-12)
</p>
</li>
<li>
<p>
<a href="http://www.apress.com/9781430210597">Apress - Automating Linux and Unix System Administration</a> (2008-12)
</p>
</li>
<li>
<p>
<a href="http://www.wrox.com/WileyCDA/WroxTitle/Professional-Linux-Kernel-Architecture.productCd-0470343435.html">Wrox - Professional Linux Kernel Architecture</a> (2008-10)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/9780596515829.do">O&#8217;Reilly - Python for Unix and Linux System Administration</a> (2008-08)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/9780596529680.do">O&#8217;Reilly - Building Embedded Linux Systems, 2nd Edition</a> (2008-08)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/9780596101954.do">O&#8217;Reilly - X Power Tools</a> (2007-12)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/9780596102487.do">O&#8217;Reilly - Linux Networking Cookbook</a> (2007-11)
</p>
</li>
<li>
<p>
<a href="http://nostarch.com/firewalls.htm">No Starch - Linux Firewalls</a> (2007-10)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/9781593271411.do">O&#8217;Reilly - Linux Firewalls</a> (2007-09)
</p>
</li>
<li>
<p>
<a href="http://www.packtpub.com/linux-thin-client-networks-open-source/book">Packt - Linux Thin Client Networks Design and Deployment</a> (2007-08)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/9780596009526.do">O&#8217;Reilly - Linux System Administration</a> (2007-03)
</p>
</li>
<li>
<p>
<a href="http://www.packtpub.com/pluggable-authentication-modules/book">Packt - Pluggable Authentication Modules: The Definitive Guide to PAM for Linux SysAdmins and C Developers</a> (2007-01)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/9780596100797.do">O&#8217;Reilly - Linux Kernel in a Nutshell</a> (2006-12)
</p>
</li>
<li>
<p>
<a href="http://www.packtpub.com/linux-firewalls/book">Packt - Designing and Implementing Linux Firewalls and QoS using netfilter, iproute2, NAT and l7-filter</a> (2006-10)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/9780596008017.do">O&#8217;Reilly - Linux Annoyances for Geeks</a> (2006-04)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/9780596002558.do">O&#8217;Reilly - Understanding Linux Network Internals</a> (2005-12)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/9780596007607.do">O&#8217;Reilly - Running Linux, 5th Edition</a> (2005-12)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/9780596100827.do">O&#8217;Reilly - Linux Server Hacks, Volume Two</a> (2005-12)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/9780596005658.do">O&#8217;Reilly - Understanding the Linux Kernel, 3rd Edition</a> (2005-11)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/9780596100766.do">O&#8217;Reilly - Linux Multimedia Hacks</a> (2005-11)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/9780596101046.do">O&#8217;Reilly - Linux Desktop Pocket Guide</a> (2005-09)
</p>
</li>
<li>
<p>
<a href="http://www.packtpub.com/linux-email-set-and-run-small-office-email-server/book">Packt - Linux Email: Set up and Run a Small Office Email Server</a> (2005-07)
</p>
</li>
<li>
<p>
<a href="http://nostarch.com/cluster.htm">No Starch - Linux Enterprise Cluster</a> (2005-05)
</p>
</li>
<li>
<p>
<a href="http://www.wrox.com/WileyCDA/WroxTitle/Beginning-Unix.productCd-0764579940.html">Wrox - Beginning Unix</a> (2005-04)
</p>
</li>
<li>
<p>
<a href="http://www.apress.com/9781590594445">Apress - Hardening Linux</a> (2005-02)
</p>
</li>
<li>
<p>
<a href="http://nostarch.com/lcbk2.htm">No Starch - Linux Cookbook, 2nd Edition</a> (2004-08)
</p>
</li>
<li>
<p>
<a href="http://www.apress.com/9781590593226">Apress - The Definitive Guide to Linux Network Programming</a> (2004-08)
</p>
</li>
<li>
<p>
<a href="http://nostarch.com/howlinuxworks.htm">No Starch - How Linux Works</a> (2004-05)
</p>
</li>
<li>
<p>
<a href="http://shop.oreilly.com/product/9780596003302.do">O&#8217;Reilly - Unix Power Tools, 3rd Edition</a> (2002-10)
</p>
</li>
<li>
<p>
<a href="http://www.apress.com/9781893115279">Apress - Tuning and Customizing a Linux System</a> (2002-07)
</p>
</li>
<li>
<p>
<a href="http://www.apress.com/9781893115460">Apress - Linux in Small Business</a> (2002-01)
 *
</p>
</li>
<li>
<p>
<a href="http://www.wiley.com/WileyCDA/Section/id-WILEY2_SEARCH_RESULT.html?query=linux">Wiley: Search Results</a>
</p>
</li>
<li>
<p>
<a href="http://www.informit.com/search/index.aspx?query=linux">Search Results | InformIT</a>&#8230;
</p>
</li>
</ul></div>
</div></div>
<div class="openblock">
<div class="title">文件</div>
<div class="content">
<div class="ulist"><ul>
<li>
<p>
<a href="http://tldp.org/">TLDP (The Linux Documentation Project)</a>
</p>
<div class="ulist"><ul>
<li>
<p>
<a href="http://tldp.org/LDP/intro-linux/html/">Introduction to Linux</a>
</p>
</li>
</ul></div>
</li>
</ul></div>
</div></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2012-12-08 09:36:51 CST
</div>
<div id="footer-badges">
<a href="http://validator.w3.org/check?uri=referer">
  <img style="border:0;width:88px;height:31px"
    src="http://www.w3.org/Icons/valid-xhtml11-blue"
    alt="Valid XHTML 1.1" height="31" width="88" />
</a>
<a href="http://jigsaw.w3.org/css-validator/">
  <img style="border:0;width:88px;height:31px"
    src="http://jigsaw.w3.org/css-validator/images/vcss-blue"
    alt="Valid CSS!" />
</a>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="http://s.gravatar.com/js/gprofiles.js?ver=e"></script>
<script>jQuery(document).ready(function($){ Gravatar.init(); });</script>
</body>
</html>
