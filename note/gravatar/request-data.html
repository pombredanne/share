<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.8" />
<title>[Gravatar] 取得大頭貼跟相關資料</title>
<link rel="stylesheet" href="../../_asciidoc/stylesheets/asciidoc.css" type="text/css" />
<link rel="stylesheet" href="../../_asciidoc/stylesheets/layout2.css" type="text/css" />
<script type="text/javascript" src="../../_asciidoc/javascripts/asciidoc.js"></script>
<script type="text/javascript">
/*<![CDATA[*/
asciidoc.install();
/*]]>*/
</script>
</head>
<body>
<div id="layout-menu-box">
<div id="layout-menu">
  <div>&#187;<a href="../../index.html">首頁</a></div>
  <div>&#187;<a href="../../note/index.html">學習筆記</a></div>
  <div><img src="http://www.gravatar.com/avatar/ca5d67276ca1ff3e5391438d7865ddf2" border="0" /><br/><em>Jeremy Kao</em></div>
  <div>&#187;<a href="http://imsardine.wordpress.com">部落格</a></div>
  <div>&#187;<a href="https://github.com/imsardine">GitHub</a></div>
  <!-- <div id="page-source">&#187;<a href="request-data.txt">頁面原始碼</a></div> -->
</div>
</div>
<div id="layout-content-box">
<div id="layout-banner">
  <div id="layout-title">在電梯裡遇見雙胞胎</div>
  <div id="layout-description">腦袋不是用來裝東西，而是用來思考問題的；所以我把懶得記的、記不住的，通通寫在這裡...</div>
</div>
<div id="layout-content">
<div id="header">
<h1><a href="gravatar.html">Gravatar</a> / 取得大頭貼跟相關資料</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>要取得某個 gravatar 的 image 或 profile，必須先拿到 email hash 才行，因為它會成為 request URLs 的一部份。而 email hash 單純只是 email address 去掉前後空白、全部轉成小寫、再做 MD5 hash 的結果。</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p>All URLs on Gravatar are based on the use of the hashed value of an email address. Images and profiles are both accessed via the hash of an email, and it is considered the primary way of identifying an identity within the system.</p></div>
</div>
<div class="attribution">
&#8212; <a href="http://en.gravatar.com/site/implement/hash/">Creating the Hash - Gravatar</a>
</div></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p>Gravatar images may be requested just like a normal image, using an IMG tag. To get an image specific to a user, you must first calculate their email hash.</p></div>
</div>
<div class="attribution">
&#8212; <a href="http://en.gravatar.com/site/implement/images/">Image Requests - Gravatar</a>
</div></div>
<div class="literalblock">
<div class="content">
<pre><code>&lt;img src="http://www.gravatar.com/avatar/HASH" /&gt;</code></pre>
</div></div>
<div class="paragraph"><p>將其中的 <em>HASH</em> 代換成 email hash 即可。例如：</p></div>
<div class="literalblock">
<div class="content">
<pre><code>&lt;img src="http://www.gravatar.com/avatar/ca5d67276ca1ff3e5391438d7865ddf2.png" /&gt;</code></pre>
</div></div>
<div class="paragraph"><p>注意 <em>HASH</em> 後面不用刻意加上副檔名（實驗發現，就算加上 <code>.jpg</code>，拿到的還是 PNG 格式？）。</p></div>
<div class="paragraph"><p>至於圖片的大小，預設會拿到 80 x 80 大小的圖片，可以在 request URL 後面加上 <code>s=</code> 或 <code>size=</code> 參數指定圖片大小（1 - 2048），例如：</p></div>
<div class="literalblock">
<div class="content">
<pre><code>&lt;img src="http://www.gravatar.com/avatar/ca5d67276ca1ff3e5391438d7865ddf2?s=30" /&gt;</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="../../_asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">如果網站本身是走 https:// 的話，建議將上面的 <code>http://www.gravatar.com/...</code> 換成 <code>https://secure.gravatar.com/...</code>，這樣瀏覽器才不會跳出警告。例如 IE 會提示 "This page contains both secure and nonsecure items. Do you want to display the non secure items?"。</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_參考資料">參考資料</h2>
<div class="sectionbody">
<div class="openblock">
<div class="title">文件</div>
<div class="content">
<div class="ulist"><ul>
<li>
<p>
<a href="http://en.gravatar.com/site/implement/">Developer Resources</a>
</p>
</li>
<li>
<p>
<a href="http://en.gravatar.com/site/implement/hash/">Creating the Hash</a>
</p>
</li>
<li>
<p>
<a href="http://en.gravatar.com/site/implement/images/">Image Requests</a>
</p>
</li>
</ul></div>
</div></div>
<div class="openblock">
<div class="title">其他文件</div>
<div class="content">
<div class="ulist"><ul>
<li>
<p>
<a href="http://www.deluxeblogtips.com/2010/04/get-gravatar-using-only-javascript.html">Get Gravatar Using Only Javascript - Deluxe Blog Tips</a> (2010-04-19)
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2012-12-03 11:13:44 CST
</div>
<div id="footer-badges">
<a href="http://validator.w3.org/check?uri=referer">
  <img style="border:0;width:88px;height:31px"
    src="http://www.w3.org/Icons/valid-xhtml11-blue"
    alt="Valid XHTML 1.1" height="31" width="88" />
</a>
<a href="http://jigsaw.w3.org/css-validator/">
  <img style="border:0;width:88px;height:31px"
    src="http://jigsaw.w3.org/css-validator/images/vcss-blue"
    alt="Valid CSS!" />
</a>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="http://s.gravatar.com/js/gprofiles.js?ver=e"></script>
<script>jQuery(document).ready(function($){ Gravatar.init(); });</script>
</body>
</html>
