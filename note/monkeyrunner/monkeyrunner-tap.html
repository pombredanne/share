<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.8" />
<title>monkeyrunner 觸控手勢：輕觸（Tap）跟長按（Long Press）</title>
<link rel="stylesheet" href="../../_asciidoc/stylesheets/asciidoc.css" type="text/css" />
<link rel="stylesheet" href="../../_asciidoc/stylesheets/layout2.css" type="text/css" />
<script type="text/javascript" src="../../_asciidoc/javascripts/asciidoc.js"></script>
<script type="text/javascript">
/*<![CDATA[*/
asciidoc.install();
/*]]>*/
</script>
</head>
<body>
<div id="layout-menu-box">
<div id="layout-menu">
  <div>&#187;<a href="../../index.html">首頁</a></div>
  <div>&#187;<a href="../../note/index.html">學習筆記</a></div>
  <div><img src="http://www.gravatar.com/avatar/ca5d67276ca1ff3e5391438d7865ddf2" border="0" /><br/><em>Jeremy Kao</em></div>
  <div>&#187;<a href="http://imsardine.wordpress.com">部落格</a></div>
  <div>&#187;<a href="https://github.com/imsardine">GitHub</a></div>
  <!-- <div id="page-source">&#187;<a href="monkeyrunner-tap.txt">頁面原始碼</a></div> -->
</div>
</div>
<div id="layout-content-box">
<div id="layout-banner">
  <div id="layout-title">在電梯裡遇見雙胞胎</div>
  <div id="layout-description">腦袋不是用來裝東西，而是用來思考問題的；所以我把懶得記的、記不住的，通通寫在這裡...</div>
</div>
<div id="layout-content">
<div id="header">
<h1>monkeyrunner 觸控手勢：輕觸（Tap）跟長按（Long Press）</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>輕觸（Tap）跟長按（Long Press）這兩個很基本的<a href="monkeyrunner-gesture.html">觸控手勢</a>都可以簡單透過 <code>MonkeyDevice.touch()</code> 來達成：</p></div>
<div class="literalblock">
<div class="content">
<pre><code>touch(x, y, type)</code></pre>
</div></div>
<div class="paragraph"><p><code>MonkeyRunner</code> 另外定義了三個字串常數，可以用在 <em>type</em> 參數：<code>DOWN</code>、<code>UP</code>、<code>DOWN_AND_UP</code>。其中 <code>DOWN</code> 跟 <code>UP</code> 分別對應 "手指頭碰觸螢幕" 跟 "手指頭離開螢幕" 兩個動作。想當然爾，<code>DOWN_AND_UP</code> 的結果就有輕觸（Tap）：</p></div>
<div class="listingblock">
<div class="content">
<pre><code>&gt;&gt;&gt; from com.android.monkeyrunner import MonkeyRunner, MonkeyDevice
&gt;&gt;&gt; device = MonkeyRunner.waitForConnection()
&gt;&gt;&gt;
&gt;&gt;&gt; device.touch(100, 100, MonkeyDevice.DOWN_AND_UP)</code></pre>
</div></div>
<div class="paragraph"><p>手指頭碰觸螢幕一小段時間後才拿開，就是長按（Long Press）：</p></div>
<div class="listingblock">
<div class="content">
<pre><code>&gt;&gt;&gt; import time
&gt;&gt;&gt; device.touch(100, 100, MonkeyDevice.DOWN)
&gt;&gt;&gt; time.sleep(2); device.touch(100, 100, MonkeyDevice.UP)</code></pre>
</div></div>
<div class="paragraph"><p>2012-10-02 發現上面的做法並不適用於 Samsung Galaxy S2，例如在點擊文字輸入框時，<code>DOWN</code> 跟 <code>UP</code> 似乎被分開解讀了，導致無法形成 long press，後來改用 <code>drag()</code> 就好了。</p></div>
<div class="listingblock">
<div class="content">
<pre><code>&gt;&gt;&gt; point = (100, 100)
&gt;&gt;&gt; device.drag(point, point, 2, 2)</code></pre>
</div></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2012-12-03 11:09:13 CST
</div>
<div id="footer-badges">
<a href="http://validator.w3.org/check?uri=referer">
  <img style="border:0;width:88px;height:31px"
    src="http://www.w3.org/Icons/valid-xhtml11-blue"
    alt="Valid XHTML 1.1" height="31" width="88" />
</a>
<a href="http://jigsaw.w3.org/css-validator/">
  <img style="border:0;width:88px;height:31px"
    src="http://jigsaw.w3.org/css-validator/images/vcss-blue"
    alt="Valid CSS!" />
</a>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="http://s.gravatar.com/js/gprofiles.js?ver=e"></script>
<script>jQuery(document).ready(function($){ Gravatar.init(); });</script>
</body>
</html>
