<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.8" />
<title>ADB Activity Manager (<code>am</code>)</title>
<link rel="stylesheet" href="../../_asciidoc/stylesheets/asciidoc.css" type="text/css" />
<link rel="stylesheet" href="../../_asciidoc/stylesheets/layout2.css" type="text/css" />
<link rel="stylesheet" href="../../_asciidoc/stylesheets/pygments.css" type="text/css" />
<link rel="Stylesheet" href="http://www.diigo.com/stylesheets/link_rolls_standard.css" title="style_standard" type="text/css" media="screen" />
<script type="text/javascript" src="../../_asciidoc/javascripts/asciidoc.js"></script>
<script type="text/javascript">
/*<![CDATA[*/
asciidoc.install();
/*]]>*/
</script>
</head>
<body>
<div id="layout-menu-box">
<div id="layout-menu">
  <div><a href="../../index.html">首頁</a> | <a href="http://www.diigo.com/user/imsardine" target="_blank">閱讀</a> | <a href="../../note/index.html">筆記</a></div>
  <div>
    <img src="http://www.gravatar.com/avatar/ca5d67276ca1ff3e5391438d7865ddf2" width="32" style="border:none"/>
    <a href="http://imsardine.wordpress.com/" target="_blank"><img src="http://s.wordpress.org/about/images/logos/wordpress-logo-32-blue.png" style="border:none"/></a>
  </div>
  <iframe src="http://githubbadge.appspot.com/badge/imsardine?s=1" style="border: 0;height: 142px;width: 200px;overflow: hidden;" frameBorder=0></iframe>
</div>
</div>
<div id="layout-content-box">
<div id="layout-banner">
  <div id="layout-title">在電梯裡遇見雙胞胎</div>
  <div id="layout-description">腦袋不是用來裝東西，而是用來思考問題的；所以我把懶得記的、記不住的，通通寫在這裡... <a href="http://www.diigo.com" onclick="var s=document.createElement('script');s.type='text/javascript';s.src='http://www.diigo.com/javascripts/webtoolbar/diigolet_b_h_b.js';document.body.appendChild(s);return false;"><img style="border:none" alt="Add to Diigo" src="http://www.diigo.com/images/diigo-icon/16.png" /></a></div>
</div>
<div id="layout-content">
<div id="header">
<h1>ADB Activity Manager (<code>am</code>)</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<code>am</code> - Activity Manager
</p>
<div class="listingblock">
<div class="content">
<pre><code>usage: am [subcommand] [options]
usage: am start [-D] [-W] [-P &lt;FILE&gt;] [--start-profiler &lt;FILE&gt;]
               [--R COUNT] [-S] &lt;INTENT&gt;
       am startservice &lt;INTENT&gt;
       am force-stop &lt;PACKAGE&gt;
       am kill &lt;PACKAGE&gt;
       am kill-all
       am broadcast &lt;INTENT&gt;
       am instrument [-r] [-e &lt;NAME&gt; &lt;VALUE&gt;] [-p &lt;FILE&gt;] [-w]
               [--no-window-animation] &lt;COMPONENT&gt;
       am profile [looper] start &lt;PROCESS&gt; &lt;FILE&gt;
       am profile [looper] stop [&lt;PROCESS&gt;]
       am dumpheap [flags] &lt;PROCESS&gt; &lt;FILE&gt;
       am set-debug-app [-w] [--persistent] &lt;PACKAGE&gt;
       am clear-debug-app
       am monitor [--gdb &lt;port&gt;]
       am screen-compat [on|off] &lt;PACKAGE&gt;
       am display-size [reset|MxN]
       am to-uri [INTENT]
       am to-intent-uri [INTENT]

am start: start an Activity.  Options are:
    -D: enable debugging
    -W: wait for launch to complete
    --start-profiler &lt;FILE&gt;: start profiler and send results to &lt;FILE&gt;
    -P &lt;FILE&gt;: like above, but profiling stops when app goes idle
    -R: repeat the activity launch &lt;COUNT&gt; times.  Prior to each repeat,
        the top activity will be finished.
    -S: force stop the target app before starting the activity

am startservice: start a Service.

am force-stop: force stop everything associated with &lt;PACKAGE&gt;.

am kill: Kill all processes associated with &lt;PACKAGE&gt;.  Only kills.
  processes that are safe to kill -- that is, will not impact the user
  experience.

am kill-all: Kill all background processes.

am broadcast: send a broadcast Intent.

am instrument: start an Instrumentation.  Typically this target &lt;COMPONENT&gt;
  is the form &lt;TEST_PACKAGE&gt;/&lt;RUNNER_CLASS&gt;.  Options are:
    -r: print raw results (otherwise decode REPORT_KEY_STREAMRESULT).  Use with
        [-e perf true] to generate raw output for performance measurements.
    -e &lt;NAME&gt; &lt;VALUE&gt;: set argument &lt;NAME&gt; to &lt;VALUE&gt;.  For test runners a
        common form is [-e &lt;testrunner_flag&gt; &lt;value&gt;[,&lt;value&gt;...]].
    -p &lt;FILE&gt;: write profiling data to &lt;FILE&gt;
    -w: wait for instrumentation to finish before returning.  Required for
        test runners.
    --no-window-animation: turn off window animations will running.

am profile: start and stop profiler on a process.

am dumpheap: dump the heap of a process.  Options are:
    -n: dump native heap instead of managed heap

am set-debug-app: set application &lt;PACKAGE&gt; to debug.  Options are:
    -w: wait for debugger when application starts
    --persistent: retain this value

am clear-debug-app: clear the previously set-debug-app.

am monitor: start monitoring for crashes or ANRs.
    --gdb: start gdbserv on the given port at crash/ANR

am screen-compat: control screen compatibility mode of &lt;PACKAGE&gt;.

am display-size: override display size.

am to-uri: print the given Intent specification as a URI.

am to-intent-uri: print the given Intent specification as an intent: URI.

&lt;INTENT&gt; specifications include these flags and arguments:
    [-a &lt;ACTION&gt;] [-d &lt;DATA_URI&gt;] [-t &lt;MIME_TYPE&gt;]
    [-c &lt;CATEGORY&gt; [-c &lt;CATEGORY&gt;] ...]
    [-e|--es &lt;EXTRA_KEY&gt; &lt;EXTRA_STRING_VALUE&gt; ...]
    [--esn &lt;EXTRA_KEY&gt; ...]
    [--ez &lt;EXTRA_KEY&gt; &lt;EXTRA_BOOLEAN_VALUE&gt; ...]
    [--ei &lt;EXTRA_KEY&gt; &lt;EXTRA_INT_VALUE&gt; ...]
    [--el &lt;EXTRA_KEY&gt; &lt;EXTRA_LONG_VALUE&gt; ...]
    [--eu &lt;EXTRA_KEY&gt; &lt;EXTRA_URI_VALUE&gt; ...]
    [--eia &lt;EXTRA_KEY&gt; &lt;EXTRA_INT_VALUE&gt;[,&lt;EXTRA_INT_VALUE...]]
    [--ela &lt;EXTRA_KEY&gt; &lt;EXTRA_LONG_VALUE&gt;[,&lt;EXTRA_LONG_VALUE...]]
    [-n &lt;COMPONENT&gt;] [-f &lt;FLAGS&gt;]
    [--grant-read-uri-permission] [--grant-write-uri-permission]
    [--debug-log-resolution] [--exclude-stopped-packages]
    [--include-stopped-packages]
    [--activity-brought-to-front] [--activity-clear-top]
    [--activity-clear-when-task-reset] [--activity-exclude-from-recents]
    [--activity-launched-from-history] [--activity-multiple-task]
    [--activity-no-animation] [--activity-no-history]
    [--activity-no-user-action] [--activity-previous-is-top]
    [--activity-reorder-to-front] [--activity-reset-task-if-needed]
    [--activity-single-top] [--activity-clear-task]
    [--activity-task-on-home]
    [--receiver-registered-only] [--receiver-replace-pending]
    [--selector]
    [&lt;URI&gt; | &lt;PACKAGE&gt; | &lt;COMPONENT&gt;]</code></pre>
</div></div>
</li>
</ul></div>
<div class="listingblock">
<div class="title">HTC Desire S</div>
<div class="content">
<pre><code>usage: am [subcommand] [options]

    start an Activity: am start [-D] [-W] &lt;INTENT&gt;
        -D: enable debugging
        -W: wait for launch to complete

    start a Service: am startservice &lt;INTENT&gt;

    send a broadcast Intent: am broadcast &lt;INTENT&gt;

    start an Instrumentation: am instrument [flags] &lt;COMPONENT&gt;
        -r: print raw results (otherwise decode REPORT_KEY_STREAMRESULT)
        -e &lt;NAME&gt; &lt;VALUE&gt;: set argument &lt;NAME&gt; to &lt;VALUE&gt;
        -p &lt;FILE&gt;: write profiling data to &lt;FILE&gt;
        -w: wait for instrumentation to finish before returning

    start profiling: am profile &lt;PROCESS&gt; start &lt;FILE&gt;
    stop profiling: am profile &lt;PROCESS&gt; stop

    start monitoring: am monitor [--gdb &lt;port&gt;]
        --gdb: start gdbserv on the given port at crash/ANR

    &lt;INTENT&gt; specifications include these flags:
        [-a &lt;ACTION&gt;] [-d &lt;DATA_URI&gt;] [-t &lt;MIME_TYPE&gt;]
        [-c &lt;CATEGORY&gt; [-c &lt;CATEGORY&gt;] ...]
        [-e|--es &lt;EXTRA_KEY&gt; &lt;EXTRA_STRING_VALUE&gt; ...]
        [--esn &lt;EXTRA_KEY&gt; ...]
        [--ez &lt;EXTRA_KEY&gt; &lt;EXTRA_BOOLEAN_VALUE&gt; ...]
        [-e|--ei &lt;EXTRA_KEY&gt; &lt;EXTRA_INT_VALUE&gt; ...]
        [-n &lt;COMPONENT&gt;] [-f &lt;FLAGS&gt;]
        [--grant-read-uri-permission] [--grant-write-uri-permission]
        [--debug-log-resolution]
        [--activity-brought-to-front] [--activity-clear-top]
        [--activity-clear-when-task-reset] [--activity-exclude-from-recents]
        [--activity-launched-from-history] [--activity-multiple-task]
        [--activity-no-animation] [--activity-no-history]
        [--activity-no-user-action] [--activity-previous-is-top]
        [--activity-reorder-to-front] [--activity-reset-task-if-needed]
        [--activity-single-top]
        [--receiver-registered-only] [--receiver-replace-pending]
        [&lt;URI&gt;]</code></pre>
</div></div>
<div class="paragraph"><p>例如要叫出 Google Play 安裝 aLogcat 的話，可以這麼做：</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ am start market://details?id=org.jtb.alogcat
Starting: Intent { act=android.intent.action.VIEW dat=market://details?id=org.jtb.alogcat }</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_參考資料">參考資料</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="http://stackoverflow.com/questions/6392996/adding-a-contact-via-adb-or-monkeyrunner">android - Adding a contact via adb or monkeyrunner - Stack Overflow</a> (2011-06-18) - 新增一個聯絡人，但最後還是得透過畫面按下 Save 才能完成新增。
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2012-12-15 20:48:59 CST
</div>
<div id="footer-badges">
<a href="http://validator.w3.org/check?uri=referer">
  <img style="border:0;width:88px;height:31px"
    src="http://www.w3.org/Icons/valid-xhtml11-blue"
    alt="Valid XHTML 1.1" height="31" width="88" />
</a>
<a href="http://jigsaw.w3.org/css-validator/">
  <img style="border:0;width:88px;height:31px"
    src="http://jigsaw.w3.org/css-validator/images/vcss-blue"
    alt="Valid CSS!" />
</a>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="http://s.gravatar.com/js/gprofiles.js?ver=e"></script>
<script>jQuery(document).ready(function($){ Gravatar.init(); });</script>
</body>
</html>
