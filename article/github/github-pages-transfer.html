<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.8" />
<title>[GitHub][Pages] 代管現有的靜態網站</title>
<link rel="stylesheet" href="../../asciidoc/stylesheets/asciidoc.css" type="text/css" />
<link rel="stylesheet" href="../../asciidoc/stylesheets/layout2.css" type="text/css" />
<script type="text/javascript" src="../../asciidoc/javascripts/asciidoc.js"></script>
<script type="text/javascript">
/*<![CDATA[*/
asciidoc.install();
/*]]>*/
</script>
</head>
<body>
<div id="layout-menu-box">
<div id="layout-menu">
  <div>&#187;<a href="../../index.html">首頁</a></div>
  <div>&#187;<a href="http://imsardine.wordpress.com">部落格</a></div>
  <div>&#187;<a href="https://github.com/imsardine">GitHub</a></div>
  <div id="page-source">&#187;<a href="github-pages-transfer.txt">頁面原始碼</a></div>
</div>
</div>
<div id="layout-content-box">
<div id="layout-banner">
  <div id="layout-title">在電梯裡遇見雙胞胎</div>
  <div id="layout-description">腦袋不是用來裝東西，而是用來思考問題的；所以我把懶得記的、記不住的，通通寫在這裡...</div>
</div>
<div id="layout-content">
<div id="header">
<h1><a href="github.html">GitHub</a> / link:github-pages.html[Pages / 代管現有的靜態網站</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>假設原來代管在 www.example-site.com 的網站，要怎麼移到 GitHub Pages？</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
建立一個 <code>example-site</code> 的 repo。
</p>
<div class="paragraph"><p>記得勾選 Initialize this repository with a README，以產生 first commit，因為 master 完全沒東西好像怪怪的？</p></div>
</li>
<li>
<p>
取出 repo 的內容。
</p>
<div class="listingblock">
<div class="content">
<pre><code>$ git clone https://github.com/username/example-site.git
$ git remote -v
origin  https://github.com/username/example-site.git (fetch)
origin  https://github.com/username/example-site.git (push)</code></pre>
</div></div>
</li>
<li>
<p>
分出一個名叫 <code>gh-pages</code> 的 orphan branch，然後將舊有網站的內容全部放進來。
</p>
<div class="listingblock">
<div class="content">
<pre><code>$ git checkout --orphan gh-pages
$ cp -r /path/to/site/content/* .
$
$ echo "www.example-site.com" &gt; CNAME <img src="../../asciidoc/images/icons/callouts/1.png" alt="1" />
$ mv index.htm index.html
$ git add .</code></pre>
</div></div>
<div class="colist arabic"><table>
<tr><td><img src="../../asciidoc/images/icons/callouts/1.png" alt="1" /></td><td>
這裡建議用 <code>www.example-site.com</code> 而非 top-level domain (TLD) <code>example-site.com</code>。因為使用者一般都會輸入 <code>www.example-site.com</code>，如果採用 TLD 的話，網址列會突然跳轉成 <code>example-site.com</code> （GitHub 會自動做 redirect）。
</td></tr>
</table></div>
</li>
<li>
<p>
把內容送到 GitHub
</p>
<div class="listingblock">
<div class="content">
<pre><code>$ git commit -m "first pages commit"
$ git push origin gh-pages</code></pre>
</div></div>
</li>
<li>
<p>
由於自訂網域之後，就不能透過 <a href="http://username.githug.com/example-site">http://username.githug.com/example-site</a> 來瀏覽網站，在修改 DNS 的設定之前，可以修改本機的 <code>hosts</code> 檔案，先確認一下 GitHub 代管的內容是否已經生效。
 6.
 $ git clone <a href="https://github.com/username/example-site.git">https://github.com/username/example-site.git</a>
</p>
<div class="literalblock">
<div class="content">
<pre><code>，或是將事先建立好的靜態網站內容整個貼上來</code></pre>
</div></div>
</li>
</ol></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2012-11-24 16:00:59 CST
</div>
<div id="footer-badges">
<a href="http://validator.w3.org/check?uri=referer">
  <img style="border:0;width:88px;height:31px"
    src="http://www.w3.org/Icons/valid-xhtml11-blue"
    alt="Valid XHTML 1.1" height="31" width="88" />
</a>
<a href="http://jigsaw.w3.org/css-validator/">
  <img style="border:0;width:88px;height:31px"
    src="http://jigsaw.w3.org/css-validator/images/vcss-blue"
    alt="Valid CSS!" />
</a>
</div>
</div>
</div>
</div>
</body>
</html>
